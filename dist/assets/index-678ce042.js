function Uf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ff(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Dc={exports:{}},Pi={},Mc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Kf=Symbol.for("react.context"),Gf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Qf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),Xl=Symbol.iterator;function Xf(t){return t===null||typeof t!="object"?null:(t=Xl&&t[Xl]||t["@@iterator"],typeof t=="function"?t:null)}var Uc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,Fc={};function ur(t,e,n){this.props=t,this.context=e,this.refs=Fc,this.updater=n||Uc}ur.prototype.isReactComponent={};ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bc(){}Bc.prototype=ur.prototype;function Va(t,e,n){this.props=t,this.context=e,this.refs=Fc,this.updater=n||Uc}var Ha=Va.prototype=new Bc;Ha.constructor=Va;zc(Ha,ur.prototype);Ha.isPureReactComponent=!0;var Zl=Array.isArray,Wc=Object.prototype.hasOwnProperty,qa={current:null},Vc={key:!0,ref:!0,__self:!0,__source:!0};function Hc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Wc.call(e,r)&&!Vc.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ms,type:t,key:i,ref:o,props:s,_owner:qa.current}}function Zf(t,e){return{$$typeof:ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ka(t){return typeof t=="object"&&t!==null&&t.$$typeof===ms}function em(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eu=/\/+/g;function Yi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?em(""+t.key):e.toString(36)}function Bs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ms:case Bf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Yi(o,0):r,Zl(s)?(n="",t!=null&&(n=t.replace(eu,"$&/")+"/"),Bs(s,e,n,"",function(c){return c})):s!=null&&(Ka(s)&&(s=Zf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zl(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Yi(i,l);o+=Bs(i,e,n,u,s)}else if(u=Xf(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Yi(i,l++),o+=Bs(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ks(t,e,n){if(t==null)return t;var r=[],s=0;return Bs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function tm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Ws={transition:null},nm={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:qa};function qc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ks,forEach:function(t,e,n){ks(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ks(t,function(){e++}),e},toArray:function(t){return ks(t,function(e){return e})||[]},only:function(t){if(!Ka(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=ur;U.Fragment=Wf;U.Profiler=Hf;U.PureComponent=Va;U.StrictMode=Vf;U.Suspense=Jf;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nm;U.act=qc;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Wc.call(e,u)&&!Vc.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ms,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:Kf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qf,_context:t},t.Consumer=t};U.createElement=Hc;U.createFactory=function(t){var e=Hc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Gf,render:t}};U.isValidElement=Ka;U.lazy=function(t){return{$$typeof:Yf,_payload:{_status:-1,_result:t},_init:tm}};U.memo=function(t,e){return{$$typeof:Qf,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Ws.transition;Ws.transition={};try{t()}finally{Ws.transition=e}};U.unstable_act=qc;U.useCallback=function(t,e){return Ce.current.useCallback(t,e)};U.useContext=function(t){return Ce.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ce.current.useEffect(t,e)};U.useId=function(){return Ce.current.useId()};U.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ce.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};U.useRef=function(t){return Ce.current.useRef(t)};U.useState=function(t){return Ce.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Ce.current.useTransition()};U.version="18.3.1";Mc.exports=U;var k=Mc.exports;const Kc=zf(k),rm=Uf({__proto__:null,default:Kc},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=k,im=Symbol.for("react.element"),om=Symbol.for("react.fragment"),am=Object.prototype.hasOwnProperty,lm=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,um={key:!0,ref:!0,__self:!0,__source:!0};function Gc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)am.call(e,r)&&!um.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:im,type:t,key:i,ref:o,props:s,_owner:lm.current}}Pi.Fragment=om;Pi.jsx=Gc;Pi.jsxs=Gc;Dc.exports=Pi;var a=Dc.exports,Ao={},Jc={exports:{}},We={},Qc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var A=P.length;P.push(L);e:for(;0<A;){var Y=A-1>>>1,oe=P[Y];if(0<s(oe,L))P[Y]=L,P[A]=oe,A=Y;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],A=P.pop();if(A!==L){P[0]=A;e:for(var Y=0,oe=P.length,Nn=oe>>>1;Y<Nn;){var pt=2*(Y+1)-1,gr=P[pt],$=pt+1,H=P[$];if(0>s(gr,A))$<oe&&0>s(H,gr)?(P[Y]=H,P[$]=A,Y=$):(P[Y]=gr,P[pt]=A,Y=pt);else if($<oe&&0>s(H,A))P[Y]=H,P[$]=A,Y=$;else break e}}return L}function s(P,L){var A=P.sortIndex-L.sortIndex;return A!==0?A:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,m=3,v=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=P)r(c),L.sortIndex=L.expirationTime,e(u,L);else break;L=n(c)}}function _(P){if(w=!1,p(P),!y)if(n(u)!==null)y=!0,B(j);else{var L=n(c);L!==null&&Se(_,L.startTime-P)}}function j(P,L){y=!1,w&&(w=!1,g(E),E=-1),v=!0;var A=m;try{for(p(L),h=n(u);h!==null&&(!(h.expirationTime>L)||P&&!ie());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,m=h.priorityLevel;var oe=Y(h.expirationTime<=L);L=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(u)&&r(u),p(L)}else r(u);h=n(u)}if(h!==null)var Nn=!0;else{var pt=n(c);pt!==null&&Se(_,pt.startTime-L),Nn=!1}return Nn}finally{h=null,m=A,v=!1}}var b=!1,S=null,E=-1,R=5,I=-1;function ie(){return!(t.unstable_now()-I<R)}function xe(){if(S!==null){var P=t.unstable_now();I=P;var L=!0;try{L=S(!0,P)}finally{L?he():(b=!1,S=null)}}else b=!1}var he;if(typeof f=="function")he=function(){f(xe)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,C=T.port2;T.port1.onmessage=xe,he=function(){C.postMessage(null)}}else he=function(){x(xe,0)};function B(P){S=P,b||(b=!0,he())}function Se(P,L){E=x(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,B(j))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var A=m;m=L;try{return P()}finally{m=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var A=m;m=P;try{return L()}finally{m=A}},t.unstable_scheduleCallback=function(P,L,A){var Y=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Y+A:Y):A=Y,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=A+oe,P={id:d++,callback:L,priorityLevel:P,startTime:A,expirationTime:oe,sortIndex:-1},A>Y?(P.sortIndex=A,e(c,P),n(u)===null&&P===n(c)&&(w?(g(E),E=-1):w=!0,Se(_,A-Y))):(P.sortIndex=oe,e(u,P),y||v||(y=!0,B(j))),P},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(P){var L=m;return function(){var A=m;m=L;try{return P.apply(this,arguments)}finally{m=A}}}})(Yc);Qc.exports=Yc;var cm=Qc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=k,Be=cm;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xc=new Set,qr={};function kn(t,e){tr(t,e),tr(t+"Capture",e)}function tr(t,e){for(qr[t]=e,t=0;t<e.length;t++)Xc.add(e[t])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=Object.prototype.hasOwnProperty,hm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},nu={};function fm(t){return Lo.call(nu,t)?!0:Lo.call(tu,t)?!1:hm.test(t)?nu[t]=!0:(tu[t]=!0,!1)}function mm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pm(t,e,n,r){if(e===null||typeof e>"u"||mm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ga=/[\-:]([a-z])/g;function Ja(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ga,Ja);ye[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ga,Ja);ye[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ga,Ja);ye[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qa(t,e,n,r){var s=ye.hasOwnProperty(e)?ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pm(e,n,s,r)&&(n=null),r||s===null?fm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Et=dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),Ya=Symbol.for("react.strict_mode"),Io=Symbol.for("react.profiler"),Zc=Symbol.for("react.provider"),ed=Symbol.for("react.context"),Xa=Symbol.for("react.forward_ref"),$o=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Za=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),ru=Symbol.iterator;function vr(t){return t===null||typeof t!="object"?null:(t=ru&&t[ru]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,Xi;function Cr(t){if(Xi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xi=e&&e[1]||""}return`
`+Xi+t}var Zi=!1;function eo(t,e){if(!t||Zi)return"";Zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Zi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cr(t):""}function gm(t){switch(t.tag){case 5:return Cr(t.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return t=eo(t.type,!1),t;case 11:return t=eo(t.type.render,!1),t;case 1:return t=eo(t.type,!0),t;default:return""}}function Mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mn:return"Fragment";case Dn:return"Portal";case Io:return"Profiler";case Ya:return"StrictMode";case $o:return"Suspense";case Do:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ed:return(t.displayName||"Context")+".Consumer";case Zc:return(t._context.displayName||"Context")+".Provider";case Xa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Za:return e=t.displayName||null,e!==null?e:Mo(t.type)||"Memo";case At:e=t._payload,t=t._init;try{return Mo(t(e))}catch{}}return null}function vm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(e);case 8:return e===Ya?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ym(t){var e=nd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bs(t){t._valueTracker||(t._valueTracker=ym(t))}function rd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uo(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function su(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sd(t,e){e=e.checked,e!=null&&Qa(t,"checked",e,!1)}function zo(t,e){sd(t,e);var n=Yt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fo(t,e.type,Yt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fo(t,e,n){(e!=="number"||ei(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pr=Array.isArray;function Jn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ou(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Pr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yt(n)}}function id(t,e){var n=Yt(e.value),r=Yt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function au(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function od(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?od(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ss,ad=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xm=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(t){xm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ar[e]=Ar[t]})});function ld(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ar.hasOwnProperty(t)&&Ar[t]?(""+e).trim():e+"px"}function ud(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ld(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var wm=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(t,e){if(e){if(wm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Ho(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function el(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ko=null,Qn=null,Yn=null;function lu(t){if(t=vs(t)){if(typeof Ko!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Li(e),Ko(t.stateNode,t.type,e))}}function cd(t){Qn?Yn?Yn.push(t):Yn=[t]:Qn=t}function dd(){if(Qn){var t=Qn,e=Yn;if(Yn=Qn=null,lu(t),e)for(t=0;t<e.length;t++)lu(e[t])}}function hd(t,e){return t(e)}function fd(){}var to=!1;function md(t,e,n){if(to)return t(e,n);to=!0;try{return hd(t,e,n)}finally{to=!1,(Qn!==null||Yn!==null)&&(fd(),dd())}}function Gr(t,e){var n=t.stateNode;if(n===null)return null;var r=Li(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Go=!1;if(jt)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Go=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Go=!1}function _m(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Lr=!1,ti=null,ni=!1,Jo=null,km={onError:function(t){Lr=!0,ti=t}};function jm(t,e,n,r,s,i,o,l,u){Lr=!1,ti=null,_m.apply(km,arguments)}function bm(t,e,n,r,s,i,o,l,u){if(jm.apply(this,arguments),Lr){if(Lr){var c=ti;Lr=!1,ti=null}else throw Error(N(198));ni||(ni=!0,Jo=c)}}function jn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uu(t){if(jn(t)!==t)throw Error(N(188))}function Sm(t){var e=t.alternate;if(!e){if(e=jn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return uu(s),t;if(i===r)return uu(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function gd(t){return t=Sm(t),t!==null?vd(t):null}function vd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vd(t);if(e!==null)return e;t=t.sibling}return null}var yd=Be.unstable_scheduleCallback,cu=Be.unstable_cancelCallback,Nm=Be.unstable_shouldYield,Em=Be.unstable_requestPaint,re=Be.unstable_now,Cm=Be.unstable_getCurrentPriorityLevel,tl=Be.unstable_ImmediatePriority,xd=Be.unstable_UserBlockingPriority,ri=Be.unstable_NormalPriority,Pm=Be.unstable_LowPriority,wd=Be.unstable_IdlePriority,Ti=null,ft=null;function Tm(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ti,t,void 0,(t.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Am,Om=Math.log,Rm=Math.LN2;function Am(t){return t>>>=0,t===0?32:31-(Om(t)/Rm|0)|0}var Ns=64,Es=4194304;function Tr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function si(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Tr(l):(i&=o,i!==0&&(r=Tr(i)))}else o=n&~s,o!==0?r=Tr(o):i!==0&&(r=Tr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-st(e),s=1<<n,r|=t[n],e&=~s;return r}function Lm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Im(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-st(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=Lm(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Qo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _d(){var t=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),t}function no(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ps(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-st(e),t[e]=n}function $m(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-st(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function nl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-st(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var V=0;function kd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jd,rl,bd,Sd,Nd,Yo=!1,Cs=[],Bt=null,Wt=null,Vt=null,Jr=new Map,Qr=new Map,It=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(t,e){switch(t){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(e.pointerId)}}function xr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vs(e),e!==null&&rl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Mm(t,e,n,r,s){switch(e){case"focusin":return Bt=xr(Bt,t,e,n,r,s),!0;case"dragenter":return Wt=xr(Wt,t,e,n,r,s),!0;case"mouseover":return Vt=xr(Vt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Jr.set(i,xr(Jr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qr.set(i,xr(Qr.get(i)||null,t,e,n,r,s)),!0}return!1}function Ed(t){var e=dn(t.target);if(e!==null){var n=jn(e);if(n!==null){if(e=n.tag,e===13){if(e=pd(n),e!==null){t.blockedOn=e,Nd(t.priority,function(){bd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qo=r,n.target.dispatchEvent(r),qo=null}else return e=vs(n),e!==null&&rl(e),t.blockedOn=n,!1;e.shift()}return!0}function hu(t,e,n){Vs(t)&&n.delete(e)}function Um(){Yo=!1,Bt!==null&&Vs(Bt)&&(Bt=null),Wt!==null&&Vs(Wt)&&(Wt=null),Vt!==null&&Vs(Vt)&&(Vt=null),Jr.forEach(hu),Qr.forEach(hu)}function wr(t,e){t.blockedOn===e&&(t.blockedOn=null,Yo||(Yo=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Um)))}function Yr(t){function e(s){return wr(s,t)}if(0<Cs.length){wr(Cs[0],t);for(var n=1;n<Cs.length;n++){var r=Cs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bt!==null&&wr(Bt,t),Wt!==null&&wr(Wt,t),Vt!==null&&wr(Vt,t),Jr.forEach(e),Qr.forEach(e),n=0;n<It.length;n++)r=It[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<It.length&&(n=It[0],n.blockedOn===null);)Ed(n),n.blockedOn===null&&It.shift()}var Xn=Et.ReactCurrentBatchConfig,ii=!0;function zm(t,e,n,r){var s=V,i=Xn.transition;Xn.transition=null;try{V=1,sl(t,e,n,r)}finally{V=s,Xn.transition=i}}function Fm(t,e,n,r){var s=V,i=Xn.transition;Xn.transition=null;try{V=4,sl(t,e,n,r)}finally{V=s,Xn.transition=i}}function sl(t,e,n,r){if(ii){var s=Xo(t,e,n,r);if(s===null)fo(t,e,r,oi,n),du(t,r);else if(Mm(s,t,e,n,r))r.stopPropagation();else if(du(t,r),e&4&&-1<Dm.indexOf(t)){for(;s!==null;){var i=vs(s);if(i!==null&&jd(i),i=Xo(t,e,n,r),i===null&&fo(t,e,r,oi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fo(t,e,r,null,n)}}var oi=null;function Xo(t,e,n,r){if(oi=null,t=el(r),t=dn(t),t!==null)if(e=jn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oi=t,null}function Cd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cm()){case tl:return 1;case xd:return 4;case ri:case Pm:return 16;case wd:return 536870912;default:return 16}default:return 16}}var Mt=null,il=null,Hs=null;function Pd(){if(Hs)return Hs;var t,e=il,n=e.length,r,s="value"in Mt?Mt.value:Mt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Hs=s.slice(t,1<r?1-r:void 0)}function qs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ps(){return!0}function fu(){return!1}function Ve(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ps:fu,this.isPropagationStopped=fu,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),e}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Ve(cr),gs=ee({},cr,{view:0,detail:0}),Bm=Ve(gs),ro,so,_r,Oi=ee({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(ro=t.screenX-_r.screenX,so=t.screenY-_r.screenY):so=ro=0,_r=t),ro)},movementY:function(t){return"movementY"in t?t.movementY:so}}),mu=Ve(Oi),Wm=ee({},Oi,{dataTransfer:0}),Vm=Ve(Wm),Hm=ee({},gs,{relatedTarget:0}),io=Ve(Hm),qm=ee({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Km=Ve(qm),Gm=ee({},cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jm=Ve(Gm),Qm=ee({},cr,{data:0}),pu=Ve(Qm),Ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zm[t])?!!e[t]:!1}function al(){return ep}var tp=ee({},gs,{key:function(t){if(t.key){var e=Ym[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),np=Ve(tp),rp=ee({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=Ve(rp),sp=ee({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),ip=Ve(sp),op=ee({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=Ve(op),lp=ee({},Oi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),up=Ve(lp),cp=[9,13,27,32],ll=jt&&"CompositionEvent"in window,Ir=null;jt&&"documentMode"in document&&(Ir=document.documentMode);var dp=jt&&"TextEvent"in window&&!Ir,Td=jt&&(!ll||Ir&&8<Ir&&11>=Ir),vu=String.fromCharCode(32),yu=!1;function Od(t,e){switch(t){case"keyup":return cp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function hp(t,e){switch(t){case"compositionend":return Rd(e);case"keypress":return e.which!==32?null:(yu=!0,vu);case"textInput":return t=e.data,t===vu&&yu?null:t;default:return null}}function fp(t,e){if(Un)return t==="compositionend"||!ll&&Od(t,e)?(t=Pd(),Hs=il=Mt=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Td&&e.locale!=="ko"?null:e.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mp[t.type]:e==="textarea"}function Ad(t,e,n,r){cd(r),e=ai(e,"onChange"),0<e.length&&(n=new ol("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $r=null,Xr=null;function pp(t){Vd(t,0)}function Ri(t){var e=Bn(t);if(rd(e))return t}function gp(t,e){if(t==="change")return e}var Ld=!1;if(jt){var oo;if(jt){var ao="oninput"in document;if(!ao){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),ao=typeof wu.oninput=="function"}oo=ao}else oo=!1;Ld=oo&&(!document.documentMode||9<document.documentMode)}function _u(){$r&&($r.detachEvent("onpropertychange",Id),Xr=$r=null)}function Id(t){if(t.propertyName==="value"&&Ri(Xr)){var e=[];Ad(e,Xr,t,el(t)),md(pp,e)}}function vp(t,e,n){t==="focusin"?(_u(),$r=e,Xr=n,$r.attachEvent("onpropertychange",Id)):t==="focusout"&&_u()}function yp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ri(Xr)}function xp(t,e){if(t==="click")return Ri(e)}function wp(t,e){if(t==="input"||t==="change")return Ri(e)}function _p(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:_p;function Zr(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lo.call(e,s)||!ot(t[s],e[s]))return!1}return!0}function ku(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ju(t,e){var n=ku(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ku(n)}}function $d(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$d(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dd(){for(var t=window,e=ei();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ei(t.document)}return e}function ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kp(t){var e=Dd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$d(n.ownerDocument.documentElement,n)){if(r!==null&&ul(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ju(n,i);var o=ju(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jp=jt&&"documentMode"in document&&11>=document.documentMode,zn=null,Zo=null,Dr=null,ea=!1;function bu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ea||zn==null||zn!==ei(r)||(r=zn,"selectionStart"in r&&ul(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dr&&Zr(Dr,r)||(Dr=r,r=ai(Zo,"onSelect"),0<r.length&&(e=new ol("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zn)))}function Ts(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fn={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},lo={},Md={};jt&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Ai(t){if(lo[t])return lo[t];if(!Fn[t])return t;var e=Fn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Md)return lo[t]=e[n];return t}var Ud=Ai("animationend"),zd=Ai("animationiteration"),Fd=Ai("animationstart"),Bd=Ai("transitionend"),Wd=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(t,e){Wd.set(t,e),kn(e,[t])}for(var uo=0;uo<Su.length;uo++){var co=Su[uo],bp=co.toLowerCase(),Sp=co[0].toUpperCase()+co.slice(1);Zt(bp,"on"+Sp)}Zt(Ud,"onAnimationEnd");Zt(zd,"onAnimationIteration");Zt(Fd,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Bd,"onTransitionEnd");tr("onMouseEnter",["mouseout","mouseover"]);tr("onMouseLeave",["mouseout","mouseover"]);tr("onPointerEnter",["pointerout","pointerover"]);tr("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Np=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Nu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bm(r,e,void 0,t),t.currentTarget=null}function Vd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Nu(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Nu(s,l,c),i=u}}}if(ni)throw t=Jo,ni=!1,Jo=null,t}function G(t,e){var n=e[ia];n===void 0&&(n=e[ia]=new Set);var r=t+"__bubble";n.has(r)||(Hd(e,t,2,!1),n.add(r))}function ho(t,e,n){var r=0;e&&(r|=4),Hd(n,t,r,e)}var Os="_reactListening"+Math.random().toString(36).slice(2);function es(t){if(!t[Os]){t[Os]=!0,Xc.forEach(function(n){n!=="selectionchange"&&(Np.has(n)||ho(n,!1,t),ho(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Os]||(e[Os]=!0,ho("selectionchange",!1,e))}}function Hd(t,e,n,r){switch(Cd(e)){case 1:var s=zm;break;case 4:s=Fm;break;default:s=sl}n=s.bind(null,e,n,t),s=void 0,!Go||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=dn(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}md(function(){var c=i,d=el(n),h=[];e:{var m=Wd.get(t);if(m!==void 0){var v=ol,y=t;switch(t){case"keypress":if(qs(n)===0)break e;case"keydown":case"keyup":v=np;break;case"focusin":y="focus",v=io;break;case"focusout":y="blur",v=io;break;case"beforeblur":case"afterblur":v=io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ip;break;case Ud:case zd:case Fd:v=Km;break;case Bd:v=ap;break;case"scroll":v=Bm;break;case"wheel":v=up;break;case"copy":case"cut":case"paste":v=Jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gu}var w=(e&4)!==0,x=!w&&t==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var f=c,p;f!==null;){p=f;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=Gr(f,g),_!=null&&w.push(ts(f,_,p)))),x)break;f=f.return}0<w.length&&(m=new v(m,y,null,n,d),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==qo&&(y=n.relatedTarget||n.fromElement)&&(dn(y)||y[bt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?dn(y):null,y!==null&&(x=jn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=mu,_="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=gu,_="onPointerLeave",g="onPointerEnter",f="pointer"),x=v==null?m:Bn(v),p=y==null?m:Bn(y),m=new w(_,f+"leave",v,n,d),m.target=x,m.relatedTarget=p,_=null,dn(d)===c&&(w=new w(g,f+"enter",y,n,d),w.target=p,w.relatedTarget=x,_=w),x=_,v&&y)t:{for(w=v,g=y,f=0,p=w;p;p=Cn(p))f++;for(p=0,_=g;_;_=Cn(_))p++;for(;0<f-p;)w=Cn(w),f--;for(;0<p-f;)g=Cn(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Cn(w),g=Cn(g)}w=null}else w=null;v!==null&&Eu(h,m,v,w,!1),y!==null&&x!==null&&Eu(h,x,y,w,!0)}}e:{if(m=c?Bn(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var j=gp;else if(xu(m))if(Ld)j=wp;else{j=yp;var b=vp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=xp);if(j&&(j=j(t,c))){Ad(h,j,n,d);break e}b&&b(t,m,c),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Fo(m,"number",m.value)}switch(b=c?Bn(c):window,t){case"focusin":(xu(b)||b.contentEditable==="true")&&(zn=b,Zo=c,Dr=null);break;case"focusout":Dr=Zo=zn=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,bu(h,n,d);break;case"selectionchange":if(jp)break;case"keydown":case"keyup":bu(h,n,d)}var S;if(ll)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Un?Od(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Td&&n.locale!=="ko"&&(Un||E!=="onCompositionStart"?E==="onCompositionEnd"&&Un&&(S=Pd()):(Mt=d,il="value"in Mt?Mt.value:Mt.textContent,Un=!0)),b=ai(c,E),0<b.length&&(E=new pu(E,t,null,n,d),h.push({event:E,listeners:b}),S?E.data=S:(S=Rd(n),S!==null&&(E.data=S)))),(S=dp?hp(t,n):fp(t,n))&&(c=ai(c,"onBeforeInput"),0<c.length&&(d=new pu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}Vd(h,e)})}function ts(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ai(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gr(t,n),i!=null&&r.unshift(ts(t,i,s)),i=Gr(t,e),i!=null&&r.push(ts(t,i,s))),t=t.return}return r}function Cn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Gr(n,i),u!=null&&o.unshift(ts(n,u,l))):s||(u=Gr(n,i),u!=null&&o.push(ts(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ep=/\r\n?/g,Cp=/\u0000|\uFFFD/g;function Cu(t){return(typeof t=="string"?t:""+t).replace(Ep,`
`).replace(Cp,"")}function Rs(t,e,n){if(e=Cu(e),Cu(t)!==e&&n)throw Error(N(425))}function li(){}var ta=null,na=null;function ra(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sa=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,Tp=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(t){return Pu.resolve(null).then(t).catch(Op)}:sa;function Op(t){setTimeout(function(){throw t})}function mo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yr(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dr=Math.random().toString(36).slice(2),ht="__reactFiber$"+dr,ns="__reactProps$"+dr,bt="__reactContainer$"+dr,ia="__reactEvents$"+dr,Rp="__reactListeners$"+dr,Ap="__reactHandles$"+dr;function dn(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bt]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tu(t);t!==null;){if(n=t[ht])return n;t=Tu(t)}return e}t=n,n=t.parentNode}return null}function vs(t){return t=t[ht]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Li(t){return t[ns]||null}var oa=[],Wn=-1;function en(t){return{current:t}}function J(t){0>Wn||(t.current=oa[Wn],oa[Wn]=null,Wn--)}function K(t,e){Wn++,oa[Wn]=t.current,t.current=e}var Xt={},be=en(Xt),Le=en(!1),gn=Xt;function nr(t,e){var n=t.type.contextTypes;if(!n)return Xt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function ui(){J(Le),J(be)}function Ou(t,e,n){if(be.current!==Xt)throw Error(N(168));K(be,e),K(Le,n)}function qd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,vm(t)||"Unknown",s));return ee({},n,r)}function ci(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xt,gn=be.current,K(be,t),K(Le,Le.current),!0}function Ru(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=qd(t,e,gn),r.__reactInternalMemoizedMergedChildContext=t,J(Le),J(be),K(be,t)):J(Le),K(Le,n)}var xt=null,Ii=!1,po=!1;function Kd(t){xt===null?xt=[t]:xt.push(t)}function Lp(t){Ii=!0,Kd(t)}function tn(){if(!po&&xt!==null){po=!0;var t=0,e=V;try{var n=xt;for(V=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xt=null,Ii=!1}catch(s){throw xt!==null&&(xt=xt.slice(t+1)),yd(tl,tn),s}finally{V=e,po=!1}}return null}var Vn=[],Hn=0,di=null,hi=0,qe=[],Ke=0,vn=null,wt=1,_t="";function an(t,e){Vn[Hn++]=hi,Vn[Hn++]=di,di=t,hi=e}function Gd(t,e,n){qe[Ke++]=wt,qe[Ke++]=_t,qe[Ke++]=vn,vn=t;var r=wt;t=_t;var s=32-st(r)-1;r&=~(1<<s),n+=1;var i=32-st(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wt=1<<32-st(e)+s|n<<s|r,_t=i+t}else wt=1<<i|n<<s|r,_t=t}function cl(t){t.return!==null&&(an(t,1),Gd(t,1,0))}function dl(t){for(;t===di;)di=Vn[--Hn],Vn[Hn]=null,hi=Vn[--Hn],Vn[Hn]=null;for(;t===vn;)vn=qe[--Ke],qe[Ke]=null,_t=qe[--Ke],qe[Ke]=null,wt=qe[--Ke],qe[Ke]=null}var Fe=null,ze=null,Q=!1,rt=null;function Jd(t,e){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Au(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,ze=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vn!==null?{id:wt,overflow:_t}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,ze=null,!0):!1;default:return!1}}function aa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function la(t){if(Q){var e=ze;if(e){var n=e;if(!Au(t,e)){if(aa(t))throw Error(N(418));e=Ht(n.nextSibling);var r=Fe;e&&Au(t,e)?Jd(r,n):(t.flags=t.flags&-4097|2,Q=!1,Fe=t)}}else{if(aa(t))throw Error(N(418));t.flags=t.flags&-4097|2,Q=!1,Fe=t}}}function Lu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function As(t){if(t!==Fe)return!1;if(!Q)return Lu(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ra(t.type,t.memoizedProps)),e&&(e=ze)){if(aa(t))throw Qd(),Error(N(418));for(;e;)Jd(t,e),e=Ht(e.nextSibling)}if(Lu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=Ht(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Fe?Ht(t.stateNode.nextSibling):null;return!0}function Qd(){for(var t=ze;t;)t=Ht(t.nextSibling)}function rr(){ze=Fe=null,Q=!1}function hl(t){rt===null?rt=[t]:rt.push(t)}var Ip=Et.ReactCurrentBatchConfig;function kr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Ls(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iu(t){var e=t._init;return e(t._payload)}function Yd(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Jt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,_){return f===null||f.tag!==6?(f=ko(p,g.mode,_),f.return=g,f):(f=s(f,p),f.return=g,f)}function u(g,f,p,_){var j=p.type;return j===Mn?d(g,f,p.props.children,_,p.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===At&&Iu(j)===f.type)?(_=s(f,p.props),_.ref=kr(g,f,p),_.return=g,_):(_=Zs(p.type,p.key,p.props,null,g.mode,_),_.ref=kr(g,f,p),_.return=g,_)}function c(g,f,p,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=jo(p,g.mode,_),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,_,j){return f===null||f.tag!==7?(f=pn(p,g.mode,_,j),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ko(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case js:return p=Zs(f.type,f.key,f.props,null,g.mode,p),p.ref=kr(g,null,f),p.return=g,p;case Dn:return f=jo(f,g.mode,p),f.return=g,f;case At:var _=f._init;return h(g,_(f._payload),p)}if(Pr(f)||vr(f))return f=pn(f,g.mode,p,null),f.return=g,f;Ls(g,f)}return null}function m(g,f,p,_){var j=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:l(g,f,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case js:return p.key===j?u(g,f,p,_):null;case Dn:return p.key===j?c(g,f,p,_):null;case At:return j=p._init,m(g,f,j(p._payload),_)}if(Pr(p)||vr(p))return j!==null?null:d(g,f,p,_,null);Ls(g,p)}return null}function v(g,f,p,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,l(f,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case js:return g=g.get(_.key===null?p:_.key)||null,u(f,g,_,j);case Dn:return g=g.get(_.key===null?p:_.key)||null,c(f,g,_,j);case At:var b=_._init;return v(g,f,p,b(_._payload),j)}if(Pr(_)||vr(_))return g=g.get(p)||null,d(f,g,_,j,null);Ls(f,_)}return null}function y(g,f,p,_){for(var j=null,b=null,S=f,E=f=0,R=null;S!==null&&E<p.length;E++){S.index>E?(R=S,S=null):R=S.sibling;var I=m(g,S,p[E],_);if(I===null){S===null&&(S=R);break}t&&S&&I.alternate===null&&e(g,S),f=i(I,f,E),b===null?j=I:b.sibling=I,b=I,S=R}if(E===p.length)return n(g,S),Q&&an(g,E),j;if(S===null){for(;E<p.length;E++)S=h(g,p[E],_),S!==null&&(f=i(S,f,E),b===null?j=S:b.sibling=S,b=S);return Q&&an(g,E),j}for(S=r(g,S);E<p.length;E++)R=v(S,g,E,p[E],_),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?E:R.key),f=i(R,f,E),b===null?j=R:b.sibling=R,b=R);return t&&S.forEach(function(ie){return e(g,ie)}),Q&&an(g,E),j}function w(g,f,p,_){var j=vr(p);if(typeof j!="function")throw Error(N(150));if(p=j.call(p),p==null)throw Error(N(151));for(var b=j=null,S=f,E=f=0,R=null,I=p.next();S!==null&&!I.done;E++,I=p.next()){S.index>E?(R=S,S=null):R=S.sibling;var ie=m(g,S,I.value,_);if(ie===null){S===null&&(S=R);break}t&&S&&ie.alternate===null&&e(g,S),f=i(ie,f,E),b===null?j=ie:b.sibling=ie,b=ie,S=R}if(I.done)return n(g,S),Q&&an(g,E),j;if(S===null){for(;!I.done;E++,I=p.next())I=h(g,I.value,_),I!==null&&(f=i(I,f,E),b===null?j=I:b.sibling=I,b=I);return Q&&an(g,E),j}for(S=r(g,S);!I.done;E++,I=p.next())I=v(S,g,E,I.value,_),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),f=i(I,f,E),b===null?j=I:b.sibling=I,b=I);return t&&S.forEach(function(xe){return e(g,xe)}),Q&&an(g,E),j}function x(g,f,p,_){if(typeof p=="object"&&p!==null&&p.type===Mn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case js:e:{for(var j=p.key,b=f;b!==null;){if(b.key===j){if(j=p.type,j===Mn){if(b.tag===7){n(g,b.sibling),f=s(b,p.props.children),f.return=g,g=f;break e}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===At&&Iu(j)===b.type){n(g,b.sibling),f=s(b,p.props),f.ref=kr(g,b,p),f.return=g,g=f;break e}n(g,b);break}else e(g,b);b=b.sibling}p.type===Mn?(f=pn(p.props.children,g.mode,_,p.key),f.return=g,g=f):(_=Zs(p.type,p.key,p.props,null,g.mode,_),_.ref=kr(g,f,p),_.return=g,g=_)}return o(g);case Dn:e:{for(b=p.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=jo(p,g.mode,_),f.return=g,g=f}return o(g);case At:return b=p._init,x(g,f,b(p._payload),_)}if(Pr(p))return y(g,f,p,_);if(vr(p))return w(g,f,p,_);Ls(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=ko(p,g.mode,_),f.return=g,g=f),o(g)):n(g,f)}return x}var sr=Yd(!0),Xd=Yd(!1),fi=en(null),mi=null,qn=null,fl=null;function ml(){fl=qn=mi=null}function pl(t){var e=fi.current;J(fi),t._currentValue=e}function ua(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zn(t,e){mi=t,fl=qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ae=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(fl!==t)if(t={context:t,memoizedValue:e,next:null},qn===null){if(mi===null)throw Error(N(308));qn=t,mi.dependencies={lanes:0,firstContext:t}}else qn=qn.next=t;return e}var hn=null;function gl(t){hn===null?hn=[t]:hn.push(t)}function Zd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gl(e)):(n.next=s.next,s.next=n),e.interleaved=n,St(t,r)}function St(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lt=!1;function vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,St(t,n)}return s=r.interleaved,s===null?(e.next=e,gl(r)):(e.next=s.next,s.next=e),r.interleaved=e,St(t,n)}function Ks(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nl(t,n)}}function $u(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pi(t,e,n,r){var s=t.updateQueue;Lt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(m=e,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=ee({},h,m);break e;case 2:Lt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xn|=o,t.lanes=o,t.memoizedState=h}}function Du(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var ys={},mt=en(ys),rs=en(ys),ss=en(ys);function fn(t){if(t===ys)throw Error(N(174));return t}function yl(t,e){switch(K(ss,e),K(rs,t),K(mt,ys),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wo(e,t)}J(mt),K(mt,e)}function ir(){J(mt),J(rs),J(ss)}function th(t){fn(ss.current);var e=fn(mt.current),n=Wo(e,t.type);e!==n&&(K(rs,t),K(mt,n))}function xl(t){rs.current===t&&(J(mt),J(rs))}var X=en(0);function gi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var go=[];function wl(){for(var t=0;t<go.length;t++)go[t]._workInProgressVersionPrimary=null;go.length=0}var Gs=Et.ReactCurrentDispatcher,vo=Et.ReactCurrentBatchConfig,yn=0,Z=null,ce=null,fe=null,vi=!1,Mr=!1,is=0,$p=0;function _e(){throw Error(N(321))}function _l(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ot(t[n],e[n]))return!1;return!0}function kl(t,e,n,r,s,i){if(yn=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gs.current=t===null||t.memoizedState===null?zp:Fp,t=n(r,s),Mr){i=0;do{if(Mr=!1,is=0,25<=i)throw Error(N(301));i+=1,fe=ce=null,e.updateQueue=null,Gs.current=Bp,t=n(r,s)}while(Mr)}if(Gs.current=yi,e=ce!==null&&ce.next!==null,yn=0,fe=ce=Z=null,vi=!1,e)throw Error(N(300));return t}function jl(){var t=is!==0;return is=0,t}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Z.memoizedState=fe=t:fe=fe.next=t,fe}function Xe(){if(ce===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=fe===null?Z.memoizedState:fe.next;if(e!==null)fe=e,ce=t;else{if(t===null)throw Error(N(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},fe===null?Z.memoizedState=fe=t:fe=fe.next=t}return fe}function os(t,e){return typeof e=="function"?e(t):e}function yo(t){var e=Xe(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((yn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,Z.lanes|=d,xn|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,ot(r,e.memoizedState)||(Ae=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,xn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xo(t){var e=Xe(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ot(i,e.memoizedState)||(Ae=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nh(){}function rh(t,e){var n=Z,r=Xe(),s=e(),i=!ot(r.memoizedState,s);if(i&&(r.memoizedState=s,Ae=!0),r=r.queue,bl(oh.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,as(9,ih.bind(null,n,r,s,e),void 0,null),me===null)throw Error(N(349));yn&30||sh(n,e,s)}return s}function sh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ih(t,e,n,r){e.value=n,e.getSnapshot=r,ah(e)&&lh(t)}function oh(t,e,n){return n(function(){ah(e)&&lh(t)})}function ah(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ot(t,n)}catch{return!0}}function lh(t){var e=St(t,1);e!==null&&it(e,t,1,-1)}function Mu(t){var e=ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},e.queue=t,t=t.dispatch=Up.bind(null,Z,t),[e.memoizedState,t]}function as(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uh(){return Xe().memoizedState}function Js(t,e,n,r){var s=ct();Z.flags|=t,s.memoizedState=as(1|e,n,void 0,r===void 0?null:r)}function $i(t,e,n,r){var s=Xe();r=r===void 0?null:r;var i=void 0;if(ce!==null){var o=ce.memoizedState;if(i=o.destroy,r!==null&&_l(r,o.deps)){s.memoizedState=as(e,n,i,r);return}}Z.flags|=t,s.memoizedState=as(1|e,n,i,r)}function Uu(t,e){return Js(8390656,8,t,e)}function bl(t,e){return $i(2048,8,t,e)}function ch(t,e){return $i(4,2,t,e)}function dh(t,e){return $i(4,4,t,e)}function hh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fh(t,e,n){return n=n!=null?n.concat([t]):null,$i(4,4,hh.bind(null,e,t),n)}function Sl(){}function mh(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_l(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ph(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_l(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gh(t,e,n){return yn&21?(ot(n,e)||(n=_d(),Z.lanes|=n,xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ae=!0),t.memoizedState=n)}function Dp(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var r=vo.transition;vo.transition={};try{t(!1),e()}finally{V=n,vo.transition=r}}function vh(){return Xe().memoizedState}function Mp(t,e,n){var r=Gt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yh(t))xh(e,n);else if(n=Zd(t,e,n,r),n!==null){var s=Ee();it(n,t,r,s),wh(n,e,r)}}function Up(t,e,n){var r=Gt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yh(t))xh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ot(l,o)){var u=e.interleaved;u===null?(s.next=s,gl(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Zd(t,e,s,r),n!==null&&(s=Ee(),it(n,t,r,s),wh(n,e,r))}}function yh(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function xh(t,e){Mr=vi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nl(t,n)}}var yi={readContext:Ye,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},zp={readContext:Ye,useCallback:function(t,e){return ct().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:Uu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Js(4194308,4,hh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Js(4194308,4,t,e)},useInsertionEffect:function(t,e){return Js(4,2,t,e)},useMemo:function(t,e){var n=ct();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ct();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mp.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=ct();return t={current:t},e.memoizedState=t},useState:Mu,useDebugValue:Sl,useDeferredValue:function(t){return ct().memoizedState=t},useTransition:function(){var t=Mu(!1),e=t[0];return t=Dp.bind(null,t[1]),ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,s=ct();if(Q){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),me===null)throw Error(N(349));yn&30||sh(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Uu(oh.bind(null,r,i,t),[t]),r.flags|=2048,as(9,ih.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ct(),e=me.identifierPrefix;if(Q){var n=_t,r=wt;n=(r&~(1<<32-st(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=is++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$p++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fp={readContext:Ye,useCallback:mh,useContext:Ye,useEffect:bl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:ph,useReducer:yo,useRef:uh,useState:function(){return yo(os)},useDebugValue:Sl,useDeferredValue:function(t){var e=Xe();return gh(e,ce.memoizedState,t)},useTransition:function(){var t=yo(os)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:nh,useSyncExternalStore:rh,useId:vh,unstable_isNewReconciler:!1},Bp={readContext:Ye,useCallback:mh,useContext:Ye,useEffect:bl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:ph,useReducer:xo,useRef:uh,useState:function(){return xo(os)},useDebugValue:Sl,useDeferredValue:function(t){var e=Xe();return ce===null?e.memoizedState=t:gh(e,ce.memoizedState,t)},useTransition:function(){var t=xo(os)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:nh,useSyncExternalStore:rh,useId:vh,unstable_isNewReconciler:!1};function et(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ca(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Di={isMounted:function(t){return(t=t._reactInternals)?jn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ee(),s=Gt(t),i=kt(r,s);i.payload=e,n!=null&&(i.callback=n),e=qt(t,i,s),e!==null&&(it(e,t,s,r),Ks(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ee(),s=Gt(t),i=kt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qt(t,i,s),e!==null&&(it(e,t,s,r),Ks(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ee(),r=Gt(t),s=kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=qt(t,s,r),e!==null&&(it(e,t,r,n),Ks(e,t,r))}};function zu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Zr(n,r)||!Zr(s,i):!0}function _h(t,e,n){var r=!1,s=Xt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Ie(e)?gn:be.current,r=e.contextTypes,i=(r=r!=null)?nr(t,s):Xt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Di,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Di.enqueueReplaceState(e,e.state,null)}function da(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Ie(e)?gn:be.current,s.context=nr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ca(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Di.enqueueReplaceState(s,s.state,null),pi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function or(t,e){try{var n="",r=e;do n+=gm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ha(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function kh(t,e,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wi||(wi=!0,ka=r),ha(t,e)},n}function jh(t,e,n){n=kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ha(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ha(t,e),typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=r0.bind(null,t,e,n),e.then(t,t))}function Wu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kt(-1,1),e.tag=2,qt(n,e,1))),n.lanes|=1),t)}var Vp=Et.ReactCurrentOwner,Ae=!1;function Ne(t,e,n,r){e.child=t===null?Xd(e,null,n,r):sr(e,t.child,n,r)}function Hu(t,e,n,r,s){n=n.render;var i=e.ref;return Zn(e,s),r=kl(t,e,n,r,i,s),n=jl(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(Q&&n&&cl(e),e.flags|=1,Ne(t,e,r,s),e.child)}function qu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Al(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bh(t,e,i,r,s)):(t=Zs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zr,n(o,r)&&t.ref===e.ref)return Nt(t,e,s)}return e.flags|=1,t=Jt(i,r),t.ref=e.ref,t.return=e,e.child=t}function bh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Zr(i,r)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,Nt(t,e,s)}return fa(t,e,n,r,s)}function Sh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Gn,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Gn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Gn,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Gn,Ue),Ue|=r;return Ne(t,e,s,n),e.child}function Nh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fa(t,e,n,r,s){var i=Ie(n)?gn:be.current;return i=nr(e,i),Zn(e,s),n=kl(t,e,n,r,i,s),r=jl(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(Q&&r&&cl(e),e.flags|=1,Ne(t,e,n,s),e.child)}function Ku(t,e,n,r,s){if(Ie(n)){var i=!0;ci(e)}else i=!1;if(Zn(e,s),e.stateNode===null)Qs(t,e),_h(e,n,r),da(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Ie(n)?gn:be.current,c=nr(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Fu(e,o,r,c),Lt=!1;var m=e.memoizedState;o.state=m,pi(e,r,o,s),u=e.memoizedState,l!==r||m!==u||Le.current||Lt?(typeof d=="function"&&(ca(e,n,d,r),u=e.memoizedState),(l=Lt||zu(e,n,l,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eh(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:et(e.type,l),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ye(u):(u=Ie(n)?gn:be.current,u=nr(e,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==u)&&Fu(e,o,r,u),Lt=!1,m=e.memoizedState,o.state=m,pi(e,r,o,s);var y=e.memoizedState;l!==h||m!==y||Le.current||Lt?(typeof v=="function"&&(ca(e,n,v,r),y=e.memoizedState),(c=Lt||zu(e,n,c,r,m,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ma(t,e,n,r,i,s)}function ma(t,e,n,r,s,i){Nh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ru(e,n,!1),Nt(t,e,i);r=e.stateNode,Vp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sr(e,t.child,null,i),e.child=sr(e,null,l,i)):Ne(t,e,l,i),e.memoizedState=r.state,s&&Ru(e,n,!0),e.child}function Eh(t){var e=t.stateNode;e.pendingContext?Ou(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ou(t,e.context,!1),yl(t,e.containerInfo)}function Gu(t,e,n,r,s){return rr(),hl(s),e.flags|=256,Ne(t,e,n,r),e.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function ga(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ch(t,e,n){var r=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(X,s&1),t===null)return la(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zi(o,r,0,null),t=pn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ga(n),e.memoizedState=pa,t):Nl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Hp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Jt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jt(l,i):(i=pn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ga(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pa,r}return i=t.child,t=i.sibling,r=Jt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nl(t,e){return e=zi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Is(t,e,n,r){return r!==null&&hl(r),sr(e,t.child,null,n),t=Nl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=wo(Error(N(422))),Is(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=zi({mode:"visible",children:r.children},s,0,null),i=pn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&sr(e,t.child,null,o),e.child.memoizedState=ga(o),e.memoizedState=pa,i);if(!(e.mode&1))return Is(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(N(419)),r=wo(i,r,void 0),Is(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ae||l){if(r=me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(t,s),it(r,t,s,-1))}return Rl(),r=wo(Error(N(421))),Is(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=s0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ze=Ht(s.nextSibling),Fe=e,Q=!0,rt=null,t!==null&&(qe[Ke++]=wt,qe[Ke++]=_t,qe[Ke++]=vn,wt=t.id,_t=t.overflow,vn=e),e=Nl(e,r.children),e.flags|=4096,e)}function Ju(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ua(t.return,e,n)}function _o(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ph(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(t,e,r.children,n),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ju(t,n,e);else if(t.tag===19)Ju(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(X,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_o(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_o(e,!0,n,null,i);break;case"together":_o(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qp(t,e,n){switch(e.tag){case 3:Eh(e),rr();break;case 5:th(e);break;case 1:Ie(e.type)&&ci(e);break;case 4:yl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(fi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?Ch(t,e,n):(K(X,X.current&1),t=Nt(t,e,n),t!==null?t.sibling:null);K(X,X.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ph(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,Sh(t,e,n)}return Nt(t,e,n)}var Th,va,Oh,Rh;Th=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};va=function(){};Oh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fn(mt.current);var i=null;switch(n){case"input":s=Uo(t,s),r=Uo(t,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Bo(t,s),r=Bo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=li)}Vo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&G("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Rh=function(t,e,n,r){n!==r&&(e.flags|=4)};function jr(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kp(t,e,n){var r=e.pendingProps;switch(dl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Ie(e.type)&&ui(),ke(e),null;case 3:return r=e.stateNode,ir(),J(Le),J(be),wl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(As(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(Sa(rt),rt=null))),va(t,e),ke(e),null;case 5:xl(e);var s=fn(ss.current);if(n=e.type,t!==null&&e.stateNode!=null)Oh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return ke(e),null}if(t=fn(mt.current),As(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ht]=e,r[ns]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)G(Or[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":su(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":ou(r,i),G("invalid",r)}Vo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Rs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Rs(r.textContent,l,t),s=["children",""+l]):qr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":bs(r),iu(r,i,!0);break;case"textarea":bs(r),au(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=li)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=od(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ht]=e,t[ns]=r,Th(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ho(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)G(Or[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":su(t,r),s=Uo(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),G("invalid",t);break;case"textarea":ou(t,r),s=Bo(t,r),G("invalid",t);break;default:s=r}Vo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?ud(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ad(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Kr(t,u):typeof u=="number"&&Kr(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&G("scroll",t):u!=null&&Qa(t,i,u,o))}switch(n){case"input":bs(t),iu(t,r,!1);break;case"textarea":bs(t),au(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Jn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Jn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)Rh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=fn(ss.current),fn(mt.current),As(e)){if(r=e.stateNode,n=e.memoizedProps,r[ht]=e,(i=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:Rs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=e,e.stateNode=r}return ke(e),null;case 13:if(J(X),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&ze!==null&&e.mode&1&&!(e.flags&128))Qd(),rr(),e.flags|=98560,i=!1;else if(i=As(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ht]=e}else rr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else rt!==null&&(Sa(rt),rt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?de===0&&(de=3):Rl())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return ir(),va(t,e),t===null&&es(e.stateNode.containerInfo),ke(e),null;case 10:return pl(e.type._context),ke(e),null;case 17:return Ie(e.type)&&ui(),ke(e),null;case 19:if(J(X),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jr(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gi(t),o!==null){for(e.flags|=128,jr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>ar&&(e.flags|=128,r=!0,jr(i,!1),e.lanes=4194304)}else{if(!r)if(t=gi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return ke(e),null}else 2*re()-i.renderingStartTime>ar&&n!==1073741824&&(e.flags|=128,r=!0,jr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,n=X.current,K(X,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return Ol(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Gp(t,e){switch(dl(e),e.tag){case 1:return Ie(e.type)&&ui(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ir(),J(Le),J(be),wl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xl(e),null;case 13:if(J(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(X),null;case 4:return ir(),null;case 10:return pl(e.type._context),null;case 22:case 23:return Ol(),null;case 24:return null;default:return null}}var $s=!1,je=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,O=null;function Kn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(t,e,r)}else n.current=null}function ya(t,e,n){try{n()}catch(r){te(t,e,r)}}var Qu=!1;function Qp(t,e){if(ta=ii,t=Dd(),ul(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(u=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(na={focusedElem:t,selectionRange:n},ii=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:et(e.type,w),x);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){te(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return y=Qu,Qu=!1,y}function Ur(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ya(e,n,i)}s=s.next}while(s!==r)}}function Mi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ah(t){var e=t.alternate;e!==null&&(t.alternate=null,Ah(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[ns],delete e[ia],delete e[Rp],delete e[Ap])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lh(t){return t.tag===5||t.tag===3||t.tag===4}function Yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=li));else if(r!==4&&(t=t.child,t!==null))for(wa(t,e,n),t=t.sibling;t!==null;)wa(t,e,n),t=t.sibling}function _a(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_a(t,e,n),t=t.sibling;t!==null;)_a(t,e,n),t=t.sibling}var ge=null,tt=!1;function Pt(t,e,n){for(n=n.child;n!==null;)Ih(t,e,n),n=n.sibling}function Ih(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ti,n)}catch{}switch(n.tag){case 5:je||Kn(n,e);case 6:var r=ge,s=tt;ge=null,Pt(t,e,n),ge=r,tt=s,ge!==null&&(tt?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(tt?(t=ge,n=n.stateNode,t.nodeType===8?mo(t.parentNode,n):t.nodeType===1&&mo(t,n),Yr(t)):mo(ge,n.stateNode));break;case 4:r=ge,s=tt,ge=n.stateNode.containerInfo,tt=!0,Pt(t,e,n),ge=r,tt=s;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ya(n,e,o),s=s.next}while(s!==r)}Pt(t,e,n);break;case 1:if(!je&&(Kn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){te(n,e,l)}Pt(t,e,n);break;case 21:Pt(t,e,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,Pt(t,e,n),je=r):Pt(t,e,n);break;default:Pt(t,e,n)}}function Xu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jp),e.forEach(function(r){var s=i0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,tt=!1;break e;case 3:ge=l.stateNode.containerInfo,tt=!0;break e;case 4:ge=l.stateNode.containerInfo,tt=!0;break e}l=l.return}if(ge===null)throw Error(N(160));Ih(i,o,s),ge=null,tt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){te(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$h(e,t),e=e.sibling}function $h(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),lt(t),r&4){try{Ur(3,t,t.return),Mi(3,t)}catch(w){te(t,t.return,w)}try{Ur(5,t,t.return)}catch(w){te(t,t.return,w)}}break;case 1:Ze(e,t),lt(t),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(Ze(e,t),lt(t),r&512&&n!==null&&Kn(n,n.return),t.flags&32){var s=t.stateNode;try{Kr(s,"")}catch(w){te(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&sd(s,i),Ho(l,o);var c=Ho(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?ud(s,h):d==="dangerouslySetInnerHTML"?ad(s,h):d==="children"?Kr(s,h):Qa(s,d,h,c)}switch(l){case"input":zo(s,i);break;case"textarea":id(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Jn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Jn(s,!!i.multiple,i.defaultValue,!0):Jn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ns]=i}catch(w){te(t,t.return,w)}}break;case 6:if(Ze(e,t),lt(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){te(t,t.return,w)}}break;case 3:if(Ze(e,t),lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yr(e.containerInfo)}catch(w){te(t,t.return,w)}break;case 4:Ze(e,t),lt(t);break;case 13:Ze(e,t),lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pl=re())),r&4&&Xu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(je=(c=je)||d,Ze(e,t),je=c):Ze(e,t),lt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(m=O,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ur(4,m,m.return);break;case 1:Kn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){te(r,n,w)}}break;case 5:Kn(m,m.return);break;case 22:if(m.memoizedState!==null){ec(h);continue}}v!==null?(v.return=m,O=v):ec(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=ld("display",o))}catch(w){te(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){te(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(e,t),lt(t),r&4&&Xu(t);break;case 21:break;default:Ze(e,t),lt(t)}}function lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Kr(s,""),r.flags&=-33);var i=Yu(t);_a(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Yu(t);wa(t,l,o);break;default:throw Error(N(161))}}catch(u){te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t,e,n){O=t,Dh(t)}function Dh(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$s;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||je;l=$s;var c=je;if($s=o,(je=u)&&!c)for(O=s;O!==null;)o=O,u=o.child,o.tag===22&&o.memoizedState!==null?tc(s):u!==null?(u.return=o,O=u):tc(s);for(;i!==null;)O=i,Dh(i),i=i.sibling;O=s,$s=l,je=c}Zu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Zu(t)}}function Zu(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||Mi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:et(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Du(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Du(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}je||e.flags&512&&xa(e)}catch(m){te(e,e.return,m)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function ec(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function tc(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mi(4,e)}catch(u){te(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){te(e,s,u)}}var i=e.return;try{xa(e)}catch(u){te(e,i,u)}break;case 5:var o=e.return;try{xa(e)}catch(u){te(e,o,u)}}}catch(u){te(e,e.return,u)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Xp=Math.ceil,xi=Et.ReactCurrentDispatcher,El=Et.ReactCurrentOwner,Je=Et.ReactCurrentBatchConfig,z=0,me=null,le=null,ve=0,Ue=0,Gn=en(0),de=0,ls=null,xn=0,Ui=0,Cl=0,zr=null,Oe=null,Pl=0,ar=1/0,vt=null,wi=!1,ka=null,Kt=null,Ds=!1,Ut=null,_i=0,Fr=0,ja=null,Ys=-1,Xs=0;function Ee(){return z&6?re():Ys!==-1?Ys:Ys=re()}function Gt(t){return t.mode&1?z&2&&ve!==0?ve&-ve:Ip.transition!==null?(Xs===0&&(Xs=_d()),Xs):(t=V,t!==0||(t=window.event,t=t===void 0?16:Cd(t.type)),t):1}function it(t,e,n,r){if(50<Fr)throw Fr=0,ja=null,Error(N(185));ps(t,n,r),(!(z&2)||t!==me)&&(t===me&&(!(z&2)&&(Ui|=n),de===4&&$t(t,ve)),$e(t,r),n===1&&z===0&&!(e.mode&1)&&(ar=re()+500,Ii&&tn()))}function $e(t,e){var n=t.callbackNode;Im(t,e);var r=si(t,t===me?ve:0);if(r===0)n!==null&&cu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cu(n),e===1)t.tag===0?Lp(nc.bind(null,t)):Kd(nc.bind(null,t)),Tp(function(){!(z&6)&&tn()}),n=null;else{switch(kd(r)){case 1:n=tl;break;case 4:n=xd;break;case 16:n=ri;break;case 536870912:n=wd;break;default:n=ri}n=Hh(n,Mh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mh(t,e){if(Ys=-1,Xs=0,z&6)throw Error(N(327));var n=t.callbackNode;if(er()&&t.callbackNode!==n)return null;var r=si(t,t===me?ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ki(t,r);else{e=r;var s=z;z|=2;var i=zh();(me!==t||ve!==e)&&(vt=null,ar=re()+500,mn(t,e));do try{t0();break}catch(l){Uh(t,l)}while(1);ml(),xi.current=i,z=s,le!==null?e=0:(me=null,ve=0,e=de)}if(e!==0){if(e===2&&(s=Qo(t),s!==0&&(r=s,e=ba(t,s))),e===1)throw n=ls,mn(t,0),$t(t,r),$e(t,re()),n;if(e===6)$t(t,r);else{if(s=t.current.alternate,!(r&30)&&!Zp(s)&&(e=ki(t,r),e===2&&(i=Qo(t),i!==0&&(r=i,e=ba(t,i))),e===1))throw n=ls,mn(t,0),$t(t,r),$e(t,re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:ln(t,Oe,vt);break;case 3:if($t(t,r),(r&130023424)===r&&(e=Pl+500-re(),10<e)){if(si(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ee(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sa(ln.bind(null,t,Oe,vt),e);break}ln(t,Oe,vt);break;case 4:if($t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-st(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xp(r/1960))-r,10<r){t.timeoutHandle=sa(ln.bind(null,t,Oe,vt),r);break}ln(t,Oe,vt);break;case 5:ln(t,Oe,vt);break;default:throw Error(N(329))}}}return $e(t,re()),t.callbackNode===n?Mh.bind(null,t):null}function ba(t,e){var n=zr;return t.current.memoizedState.isDehydrated&&(mn(t,e).flags|=256),t=ki(t,e),t!==2&&(e=Oe,Oe=n,e!==null&&Sa(e)),t}function Sa(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function Zp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $t(t,e){for(e&=~Cl,e&=~Ui,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-st(e),r=1<<n;t[n]=-1,e&=~r}}function nc(t){if(z&6)throw Error(N(327));er();var e=si(t,0);if(!(e&1))return $e(t,re()),null;var n=ki(t,e);if(t.tag!==0&&n===2){var r=Qo(t);r!==0&&(e=r,n=ba(t,r))}if(n===1)throw n=ls,mn(t,0),$t(t,e),$e(t,re()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ln(t,Oe,vt),$e(t,re()),null}function Tl(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(ar=re()+500,Ii&&tn())}}function wn(t){Ut!==null&&Ut.tag===0&&!(z&6)&&er();var e=z;z|=1;var n=Je.transition,r=V;try{if(Je.transition=null,V=1,t)return t()}finally{V=r,Je.transition=n,z=e,!(z&6)&&tn()}}function Ol(){Ue=Gn.current,J(Gn)}function mn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pp(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(dl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ui();break;case 3:ir(),J(Le),J(be),wl();break;case 5:xl(r);break;case 4:ir();break;case 13:J(X);break;case 19:J(X);break;case 10:pl(r.type._context);break;case 22:case 23:Ol()}n=n.return}if(me=t,le=t=Jt(t.current,null),ve=Ue=e,de=0,ls=null,Cl=Ui=xn=0,Oe=zr=null,hn!==null){for(e=0;e<hn.length;e++)if(n=hn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hn=null}return t}function Uh(t,e){do{var n=le;try{if(ml(),Gs.current=yi,vi){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vi=!1}if(yn=0,fe=ce=Z=null,Mr=!1,is=0,El.current=null,n===null||n.return===null){de=1,ls=e,le=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=ve,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Wu(o);if(v!==null){v.flags&=-257,Vu(v,o,l,i,e),v.mode&1&&Bu(i,c,e),e=v,u=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(u),e.updateQueue=w}else y.add(u);break e}else{if(!(e&1)){Bu(i,c,e),Rl();break e}u=Error(N(426))}}else if(Q&&l.mode&1){var x=Wu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Vu(x,o,l,i,e),hl(or(u,l));break e}}i=u=or(u,l),de!==4&&(de=2),zr===null?zr=[i]:zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=kh(i,u,e);$u(i,g);break e;case 1:l=u;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kt===null||!Kt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=jh(i,l,e);$u(i,_);break e}}i=i.return}while(i!==null)}Bh(n)}catch(j){e=j,le===n&&n!==null&&(le=n=n.return);continue}break}while(1)}function zh(){var t=xi.current;return xi.current=yi,t===null?yi:t}function Rl(){(de===0||de===3||de===2)&&(de=4),me===null||!(xn&268435455)&&!(Ui&268435455)||$t(me,ve)}function ki(t,e){var n=z;z|=2;var r=zh();(me!==t||ve!==e)&&(vt=null,mn(t,e));do try{e0();break}catch(s){Uh(t,s)}while(1);if(ml(),z=n,xi.current=r,le!==null)throw Error(N(261));return me=null,ve=0,de}function e0(){for(;le!==null;)Fh(le)}function t0(){for(;le!==null&&!Nm();)Fh(le)}function Fh(t){var e=Vh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Bh(t):le=e,El.current=null}function Bh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gp(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,le=null;return}}else if(n=Kp(n,e,Ue),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);de===0&&(de=5)}function ln(t,e,n){var r=V,s=Je.transition;try{Je.transition=null,V=1,n0(t,e,n,r)}finally{Je.transition=s,V=r}return null}function n0(t,e,n,r){do er();while(Ut!==null);if(z&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($m(t,i),t===me&&(le=me=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ds||(Ds=!0,Hh(ri,function(){return er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var o=V;V=1;var l=z;z|=4,El.current=null,Qp(t,n),$h(n,t),kp(na),ii=!!ta,na=ta=null,t.current=n,Yp(n),Em(),z=l,V=o,Je.transition=i}else t.current=n;if(Ds&&(Ds=!1,Ut=t,_i=s),i=t.pendingLanes,i===0&&(Kt=null),Tm(n.stateNode),$e(t,re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wi)throw wi=!1,t=ka,ka=null,t;return _i&1&&t.tag!==0&&er(),i=t.pendingLanes,i&1?t===ja?Fr++:(Fr=0,ja=t):Fr=0,tn(),null}function er(){if(Ut!==null){var t=kd(_i),e=Je.transition,n=V;try{if(Je.transition=null,V=16>t?16:t,Ut===null)var r=!1;else{if(t=Ut,Ut=null,_i=0,z&6)throw Error(N(331));var s=z;for(z|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Ur(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var m=d.sibling,v=d.return;if(Ah(d),d===c){O=null;break}if(m!==null){m.return=v,O=m;break}O=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ur(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var f=t.current;for(O=f;O!==null;){o=O;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,O=p;else e:for(o=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mi(9,l)}}catch(j){te(l,l.return,j)}if(l===o){O=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,O=_;break e}O=l.return}}if(z=s,tn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ti,t)}catch{}r=!0}return r}finally{V=n,Je.transition=e}}return!1}function rc(t,e,n){e=or(n,e),e=kh(t,e,1),t=qt(t,e,1),e=Ee(),t!==null&&(ps(t,1,e),$e(t,e))}function te(t,e,n){if(t.tag===3)rc(t,t,n);else for(;e!==null;){if(e.tag===3){rc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){t=or(n,t),t=jh(e,t,1),e=qt(e,t,1),t=Ee(),e!==null&&(ps(e,1,t),$e(e,t));break}}e=e.return}}function r0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&n,me===t&&(ve&n)===n&&(de===4||de===3&&(ve&130023424)===ve&&500>re()-Pl?mn(t,0):Cl|=n),$e(t,e)}function Wh(t,e){e===0&&(t.mode&1?(e=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):e=1);var n=Ee();t=St(t,e),t!==null&&(ps(t,e,n),$e(t,n))}function s0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wh(t,n)}function i0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Wh(t,n)}var Vh;Vh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Le.current)Ae=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ae=!1,qp(t,e,n);Ae=!!(t.flags&131072)}else Ae=!1,Q&&e.flags&1048576&&Gd(e,hi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qs(t,e),t=e.pendingProps;var s=nr(e,be.current);Zn(e,n),s=kl(null,e,r,t,s,n);var i=jl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)?(i=!0,ci(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vl(e),s.updater=Di,e.stateNode=s,s._reactInternals=e,da(e,r,t,n),e=ma(null,e,r,!0,i,n)):(e.tag=0,Q&&i&&cl(e),Ne(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=a0(r),t=et(r,t),s){case 0:e=fa(null,e,r,t,n);break e;case 1:e=Ku(null,e,r,t,n);break e;case 11:e=Hu(null,e,r,t,n);break e;case 14:e=qu(null,e,r,et(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:et(r,s),fa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:et(r,s),Ku(t,e,r,s,n);case 3:e:{if(Eh(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,eh(t,e),pi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=or(Error(N(423)),e),e=Gu(t,e,r,n,s);break e}else if(r!==s){s=or(Error(N(424)),e),e=Gu(t,e,r,n,s);break e}else for(ze=Ht(e.stateNode.containerInfo.firstChild),Fe=e,Q=!0,rt=null,n=Xd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rr(),r===s){e=Nt(t,e,n);break e}Ne(t,e,r,n)}e=e.child}return e;case 5:return th(e),t===null&&la(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ra(r,s)?o=null:i!==null&&ra(r,i)&&(e.flags|=32),Nh(t,e),Ne(t,e,o,n),e.child;case 6:return t===null&&la(e),null;case 13:return Ch(t,e,n);case 4:return yl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sr(e,null,r,n):Ne(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:et(r,s),Hu(t,e,r,s,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(fi,r._currentValue),r._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!Le.current){e=Nt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=kt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ua(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ua(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ne(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Zn(e,n),s=Ye(s),r=r(s),e.flags|=1,Ne(t,e,r,n),e.child;case 14:return r=e.type,s=et(r,e.pendingProps),s=et(r.type,s),qu(t,e,r,s,n);case 15:return bh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:et(r,s),Qs(t,e),e.tag=1,Ie(r)?(t=!0,ci(e)):t=!1,Zn(e,n),_h(e,r,s),da(e,r,s,n),ma(null,e,r,!0,t,n);case 19:return Ph(t,e,n);case 22:return Sh(t,e,n)}throw Error(N(156,e.tag))};function Hh(t,e){return yd(t,e)}function o0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,r){return new o0(t,e,n,r)}function Al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a0(t){if(typeof t=="function")return Al(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xa)return 11;if(t===Za)return 14}return 2}function Jt(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Al(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mn:return pn(n.children,s,i,e);case Ya:o=8,s|=8;break;case Io:return t=Ge(12,n,e,s|2),t.elementType=Io,t.lanes=i,t;case $o:return t=Ge(13,n,e,s),t.elementType=$o,t.lanes=i,t;case Do:return t=Ge(19,n,e,s),t.elementType=Do,t.lanes=i,t;case td:return zi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zc:o=10;break e;case ed:o=9;break e;case Xa:o=11;break e;case Za:o=14;break e;case At:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Ge(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pn(t,e,n,r){return t=Ge(7,t,r,e),t.lanes=n,t}function zi(t,e,n,r){return t=Ge(22,t,r,e),t.elementType=td,t.lanes=n,t.stateNode={isHidden:!1},t}function ko(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function jo(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ll(t,e,n,r,s,i,o,l,u){return t=new l0(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vl(i),t}function u0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qh(t){if(!t)return Xt;t=t._reactInternals;e:{if(jn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ie(n))return qd(t,n,e)}return e}function Kh(t,e,n,r,s,i,o,l,u){return t=Ll(n,r,!0,t,s,i,o,l,u),t.context=qh(null),n=t.current,r=Ee(),s=Gt(n),i=kt(r,s),i.callback=e??null,qt(n,i,s),t.current.lanes=s,ps(t,s,r),$e(t,r),t}function Fi(t,e,n,r){var s=e.current,i=Ee(),o=Gt(s);return n=qh(n),e.context===null?e.context=n:e.pendingContext=n,e=kt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qt(s,e,o),t!==null&&(it(t,s,o,i),Ks(t,s,o)),o}function ji(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Il(t,e){sc(t,e),(t=t.alternate)&&sc(t,e)}function c0(){return null}var Gh=typeof reportError=="function"?reportError:function(t){console.error(t)};function $l(t){this._internalRoot=t}Bi.prototype.render=$l.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Fi(t,e,null,null)};Bi.prototype.unmount=$l.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wn(function(){Fi(null,t,null,null)}),e[bt]=null}};function Bi(t){this._internalRoot=t}Bi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<It.length&&e!==0&&e<It[n].priority;n++);It.splice(n,0,t),n===0&&Ed(t)}};function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ic(){}function d0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ji(o);i.call(c)}}var o=Kh(e,r,t,0,null,!1,!1,"",ic);return t._reactRootContainer=o,t[bt]=o.current,es(t.nodeType===8?t.parentNode:t),wn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ji(u);l.call(c)}}var u=Ll(t,0,!1,null,null,!1,!1,"",ic);return t._reactRootContainer=u,t[bt]=u.current,es(t.nodeType===8?t.parentNode:t),wn(function(){Fi(e,u,n,r)}),u}function Vi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=ji(o);l.call(u)}}Fi(e,o,t,s)}else o=d0(n,e,t,s,r);return ji(o)}jd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tr(e.pendingLanes);n!==0&&(nl(e,n|1),$e(e,re()),!(z&6)&&(ar=re()+500,tn()))}break;case 13:wn(function(){var r=St(t,1);if(r!==null){var s=Ee();it(r,t,1,s)}}),Il(t,1)}};rl=function(t){if(t.tag===13){var e=St(t,134217728);if(e!==null){var n=Ee();it(e,t,134217728,n)}Il(t,134217728)}};bd=function(t){if(t.tag===13){var e=Gt(t),n=St(t,e);if(n!==null){var r=Ee();it(n,t,e,r)}Il(t,e)}};Sd=function(){return V};Nd=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};Ko=function(t,e,n){switch(e){case"input":if(zo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Li(r);if(!s)throw Error(N(90));rd(r),zo(r,s)}}}break;case"textarea":id(t,n);break;case"select":e=n.value,e!=null&&Jn(t,!!n.multiple,e,!1)}};hd=Tl;fd=wn;var h0={usingClientEntryPoint:!1,Events:[vs,Bn,Li,cd,dd,Tl]},br={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f0={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gd(t),t===null?null:t.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||c0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Ti=Ms.inject(f0),ft=Ms}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h0;We.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(e))throw Error(N(200));return u0(t,e,null,n)};We.createRoot=function(t,e){if(!Dl(t))throw Error(N(299));var n=!1,r="",s=Gh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ll(t,1,!1,null,null,n,!1,r,s),t[bt]=e.current,es(t.nodeType===8?t.parentNode:t),new $l(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=gd(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return wn(t)};We.hydrate=function(t,e,n){if(!Wi(e))throw Error(N(200));return Vi(null,t,e,!0,n)};We.hydrateRoot=function(t,e,n){if(!Dl(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Gh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Kh(e,null,t,1,n??null,s,!1,i,o),t[bt]=e.current,es(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bi(e)};We.render=function(t,e,n){if(!Wi(e))throw Error(N(200));return Vi(null,t,e,!1,n)};We.unmountComponentAtNode=function(t){if(!Wi(t))throw Error(N(40));return t._reactRootContainer?(wn(function(){Vi(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};We.unstable_batchedUpdates=Tl;We.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wi(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Vi(t,e,n,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function Jh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jh)}catch(t){console.error(t)}}Jh(),Jc.exports=We;var m0=Jc.exports,oc=m0;Ao.createRoot=oc.createRoot,Ao.hydrateRoot=oc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},us.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const ac="popstate";function p0(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Na("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bi(s)}return v0(e,n,null,t)}function se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g0(){return Math.random().toString(36).substr(2,8)}function lc(t,e){return{usr:t.state,key:t.key,idx:e}}function Na(t,e,n,r){return n===void 0&&(n=null),us({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hr(e):e,{state:n,key:e&&e.key||r||g0()})}function bi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function v0(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=zt.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(us({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=zt.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:l,location:w.location,delta:g})}function m(x,g){l=zt.Push;let f=Na(w.location,x,g);n&&n(f,x),c=d()+1;let p=lc(f,c),_=w.createHref(f);try{o.pushState(p,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&u&&u({action:l,location:w.location,delta:1})}function v(x,g){l=zt.Replace;let f=Na(w.location,x,g);n&&n(f,x),c=d();let p=lc(f,c),_=w.createHref(f);o.replaceState(p,"",_),i&&u&&u({action:l,location:w.location,delta:0})}function y(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof x=="string"?x:bi(x);return f=f.replace(/ $/,"%20"),se(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let w={get action(){return l},get location(){return t(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ac,h),u=x,()=>{s.removeEventListener(ac,h),u=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(x){return o.go(x)}};return w}var uc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uc||(uc={}));function y0(t,e,n){return n===void 0&&(n="/"),x0(t,e,n,!1)}function x0(t,e,n,r){let s=typeof e=="string"?hr(e):e,i=Ml(s.pathname||"/",n);if(i==null)return null;let o=Yh(t);w0(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=O0(i);l=P0(o[u],c,r)}return l}function Yh(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(se(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Qt([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Yh(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:E0(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of Xh(i.path))s(i,o,u)}),e}function Xh(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Xh(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function w0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C0(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _0=/^:[\w-]+$/,k0=3,j0=2,b0=1,S0=10,N0=-2,cc=t=>t==="*";function E0(t,e){let n=t.split("/"),r=n.length;return n.some(cc)&&(r+=N0),e&&(r+=j0),n.filter(s=>!cc(s)).reduce((s,i)=>s+(_0.test(i)?k0:i===""?b0:S0),r)}function C0(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function P0(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=dc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=dc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Qt([i,h.pathname]),pathnameBase:I0(Qt([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Qt([i,h.pathnameBase]))}return o}function dc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=T0(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return v&&!y?c[m]=void 0:c[m]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function T0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function O0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ml(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function R0(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?hr(t):t;return{pathname:n?n.startsWith("/")?n:A0(n,e):e,search:$0(r),hash:D0(s)}}function A0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bo(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ul(t,e){let n=L0(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zl(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=hr(t):(s=us({},t),se(!s.pathname||!s.pathname.includes("?"),bo("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),bo("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),bo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?e[h]:"/"}let u=R0(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Qt=t=>t.join("/").replace(/\/\/+/g,"/"),I0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Zh=["post","put","patch","delete"];new Set(Zh);const U0=["get",...Zh];new Set(U0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cs.apply(this,arguments)}const Fl=k.createContext(null),z0=k.createContext(null),nn=k.createContext(null),Hi=k.createContext(null),Ct=k.createContext({outlet:null,matches:[],isDataRoute:!1}),ef=k.createContext(null);function F0(t,e){let{relative:n}=e===void 0?{}:e;fr()||se(!1);let{basename:r,navigator:s}=k.useContext(nn),{hash:i,pathname:o,search:l}=nf(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Qt([r,o])),s.createHref({pathname:u,search:l,hash:i})}function fr(){return k.useContext(Hi)!=null}function bn(){return fr()||se(!1),k.useContext(Hi).location}function tf(t){k.useContext(nn).static||k.useLayoutEffect(t)}function at(){let{isDataRoute:t}=k.useContext(Ct);return t?tg():B0()}function B0(){fr()||se(!1);let t=k.useContext(Fl),{basename:e,future:n,navigator:r}=k.useContext(nn),{matches:s}=k.useContext(Ct),{pathname:i}=bn(),o=JSON.stringify(Ul(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return tf(()=>{l.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=zl(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qt([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function W0(){let{matches:t}=k.useContext(Ct),e=t[t.length-1];return e?e.params:{}}function nf(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(nn),{matches:s}=k.useContext(Ct),{pathname:i}=bn(),o=JSON.stringify(Ul(s,r.v7_relativeSplatPath));return k.useMemo(()=>zl(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function V0(t,e){return H0(t,e)}function H0(t,e,n,r){fr()||se(!1);let{navigator:s}=k.useContext(nn),{matches:i}=k.useContext(Ct),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=bn(),d;if(e){var h;let x=typeof e=="string"?hr(e):e;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||se(!1),d=x}else d=c;let m=d.pathname||"/",v=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=y0(t,{pathname:v}),w=Q0(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Qt([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Qt([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&w?k.createElement(Hi.Provider,{value:{location:cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zt.Pop}},w):w}function q0(){let t=eg(),e=M0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,i)}const K0=k.createElement(q0,null);class G0 extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Ct.Provider,{value:this.props.routeContext},k.createElement(ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J0(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext(Fl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ct.Provider,{value:e},r)}function Q0(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||se(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:v}=n,y=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let v,y=!1,w=null,x=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||K0,u&&(c<0&&m===0?(ng("route-fallback",!1),y=!0,x=null):c===m&&(y=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,m+1)),f=()=>{let p;return v?p=w:y?p=x:h.route.Component?p=k.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,k.createElement(J0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?k.createElement(G0,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var rf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rf||{}),Si=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Si||{});function Y0(t){let e=k.useContext(Fl);return e||se(!1),e}function X0(t){let e=k.useContext(z0);return e||se(!1),e}function Z0(t){let e=k.useContext(Ct);return e||se(!1),e}function sf(t){let e=Z0(),n=e.matches[e.matches.length-1];return n.route.id||se(!1),n.route.id}function eg(){var t;let e=k.useContext(ef),n=X0(Si.UseRouteError),r=sf(Si.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tg(){let{router:t}=Y0(rf.UseNavigateStable),e=sf(Si.UseNavigateStable),n=k.useRef(!1);return tf(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,cs({fromRouteId:e},i)))},[t,e])}const hc={};function ng(t,e,n){!e&&!hc[t]&&(hc[t]=!0)}function rg(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Pn(t){let{to:e,replace:n,state:r,relative:s}=t;fr()||se(!1);let{future:i,static:o}=k.useContext(nn),{matches:l}=k.useContext(Ct),{pathname:u}=bn(),c=at(),d=zl(e,Ul(l,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Ot(t){se(!1)}function sg(t){let{basename:e="/",children:n=null,location:r,navigationType:s=zt.Pop,navigator:i,static:o=!1,future:l}=t;fr()&&se(!1);let u=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:i,static:o,future:cs({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=hr(r));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:y="default"}=r,w=k.useMemo(()=>{let x=Ml(d,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:v,key:y},navigationType:s}},[u,d,h,m,v,y,s]);return w==null?null:k.createElement(nn.Provider,{value:c},k.createElement(Hi.Provider,{children:n,value:w}))}function ig(t){let{children:e,location:n}=t;return V0(Ea(e),n)}new Promise(()=>{});function Ea(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,Ea(r.props.children,i));return}r.type!==Ot&&se(!1),!r.props.index||!r.props.children||se(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ea(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca.apply(this,arguments)}function og(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ag(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lg(t,e){return t.button===0&&(!e||e==="_self")&&!ag(t)}function Pa(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ug(t,e){let n=Pa(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const cg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dg="6";try{window.__reactRouterVersion=dg}catch{}const hg="startTransition",fc=rm[hg];function fg(t){let{basename:e,children:n,future:r,window:s}=t,i=k.useRef();i.current==null&&(i.current=p0({window:s,v5Compat:!0}));let o=i.current,[l,u]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=k.useCallback(h=>{c&&fc?fc(()=>u(h)):u(h)},[u,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>rg(r),[r]),k.createElement(sg,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gg=k.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,m=og(e,cg),{basename:v}=k.useContext(nn),y,w=!1;if(typeof c=="string"&&pg.test(c)&&(y=c,mg))try{let p=new URL(window.location.href),_=c.startsWith("//")?new URL(p.protocol+c):new URL(c),j=Ml(_.pathname,v);_.origin===p.origin&&j!=null?c=j+_.search+_.hash:w=!0}catch{}let x=F0(c,{relative:s}),g=vg(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function f(p){r&&r(p),p.defaultPrevented||g(p)}return k.createElement("a",Ca({},m,{href:y||x,onClick:w||i?r:f,ref:n,target:u}))});var mc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mc||(mc={}));var pc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pc||(pc={}));function vg(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=at(),c=bn(),d=nf(t,{relative:o});return k.useCallback(h=>{if(lg(h,n)){h.preventDefault();let m=r!==void 0?r:bi(c)===bi(d);u(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,r,s,n,t,i,o,l])}function yg(t){let e=k.useRef(Pa(t)),n=k.useRef(!1),r=bn(),s=k.useMemo(()=>ug(r.search,n.current?null:e.current),[r.search]),i=at(),o=k.useCallback((l,u)=>{const c=Pa(typeof l=="function"?l(s):l);n.current=!0,i("?"+c,u)},[i,s]);return[s,o]}const xg="modulepreload",wg=function(t){return"/"+t},gc={},xs=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=wg(i),i in gc)return;gc[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":xg,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},_g=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xs(()=>Promise.resolve().then(()=>mr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class vc extends Bl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yc extends Bl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xc extends Bl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ta;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ta||(Ta={}));var kg=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class jg{constructor(e,{headers:n={},customFetch:r,region:s=Ta.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=_g(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return kg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o,signal:l}=n;let u={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(u["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(u["Content-Type"]="application/json",h=JSON.stringify(o)));const m=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:l}).catch(x=>{throw x.name==="AbortError"?x:new vc(x)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new yc(m);if(!m.ok)throw new xc(m);let y=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield m.json():y==="application/octet-stream"?w=yield m.blob():y==="text/event-stream"?w=m:y==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new vc(s)}:{data:null,error:s,response:s instanceof xc||s instanceof yc?s.context:void 0}}})}}var Re={},Wl={},qi={},ws={},Ki={},Gi={},bg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lr=bg();const Sg=lr.fetch,of=lr.fetch.bind(lr),af=lr.Headers,Ng=lr.Request,Eg=lr.Response,mr=Object.freeze(Object.defineProperty({__proto__:null,Headers:af,Request:Ng,Response:Eg,default:of,fetch:Sg},Symbol.toStringTag,{value:"Module"})),Cg=Ff(mr);var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});let Pg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ji.default=Pg;var lf=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});const Tg=lf(Cg),Og=lf(Ji);let Rg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Tg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u,c;let d=null,h=null,m=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const x=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");x&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&x===""?(v=204,y="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new Og.default(d)}return{error:d,data:h,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Gi.default=Rg;var Ag=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});const Lg=Ag(Gi);let Ig=class extends Lg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ki.default=Ig;var $g=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ws,"__esModule",{value:!0});const Dg=$g(Ki);let Mg=class extends Dg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ws.default=Mg;var Ug=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});const Sr=Ug(ws);let zg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Sr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Sr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Sr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};qi.default=zg;var uf=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wl,"__esModule",{value:!0});const Fg=uf(qi),Bg=uf(ws);let Wg=class cf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Fg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new cf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const u=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{u.searchParams.append(h,m)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Bg.default({method:l,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Wl.default=Wg;var pr=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const df=pr(Wl);Re.PostgrestClient=df.default;const hf=pr(qi);Re.PostgrestQueryBuilder=hf.default;const ff=pr(ws);Re.PostgrestFilterBuilder=ff.default;const mf=pr(Ki);Re.PostgrestTransformBuilder=mf.default;const pf=pr(Gi);Re.PostgrestBuilder=pf.default;const gf=pr(Ji);Re.PostgrestError=gf.default;var Vg=Re.default={PostgrestClient:df.default,PostgrestQueryBuilder:hf.default,PostgrestFilterBuilder:ff.default,PostgrestTransformBuilder:mf.default,PostgrestBuilder:pf.default,PostgrestError:gf.default};const{PostgrestClient:Hg,PostgrestQueryBuilder:jx,PostgrestFilterBuilder:bx,PostgrestTransformBuilder:Sx,PostgrestBuilder:Nx,PostgrestError:Ex}=Vg;class qg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kg="2.15.5",Gg=`realtime-js/${Kg}`,Jg="1.0.0",Oa=1e4,Qg=1e3,Yg=100;var Br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Br||(Br={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var Ra;(function(t){t.websocket="websocket"})(Ra||(Ra={}));var cn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cn||(cn={}));class Xg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class vf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(q||(q={}));const wc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Zg(o,t,e,s),i),{})},Zg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?yf(i,o):Aa(o)},yf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rv(e,n)}switch(t){case q.bool:return ev(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return tv(e);case q.json:case q.jsonb:return nv(e);case q.timestamp:return sv(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return Aa(e);default:return Aa(e)}},Aa=t=>t,ev=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>yf(e,l))}return t},sv=t=>typeof t=="string"?t.replace(" ","T"):t,xf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class So{constructor(e,n,r={},s=Oa){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _c;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_c||(_c={}));class Wr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Wr.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(x=>x.presence_ref),v=h.map(x=>x.presence_ref),y=d.filter(x=>v.indexOf(x.presence_ref)<0),w=h.filter(x=>m.indexOf(x.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const h=e[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...m)}r(l,d,u)}),this.map(o,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kc||(kc={}));var Vr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vr||(Vr={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Vl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new So(this,nt.join,this.params,this.timeout),this.rejoinTimer=new vf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Wr(this),this.broadcastEndpointURL=xf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Vr.PRESENCE]&&this.bindings[Vr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(yt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(yt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<x;f++){const p=w[f],{filter:{event:_,schema:j,table:b,filter:S}}=p,E=v&&v[f];if(E&&E.event===_&&E.schema===j&&E.table===b&&E.filter===S)g.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(yt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ue.errored,e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ue.joined&&e===Vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new So(this,nt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new So(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Yg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=nt;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,x;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,x,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,j=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:w,table:x,commit_timestamp:g,type:f,errors:p}=y;m=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(m,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Vl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wc(e.columns,e.old_record)),n}}const No=()=>{},Us={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iv=[1e3,2e3,5e3,1e4],ov=1e4,av=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lv{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oa,this.transport=null,this.heartbeatIntervalMs=Us.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=No,this.ref=0,this.reconnectTimer=null,this.logger=No,this.conn=null,this.sendBuffer=[],this.serializer=new Xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>xs(()=>Promise.resolve().then(()=>mr),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ra.websocket}`,this.httpEndpoint=xf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return cn.Connecting;case Br.open:return cn.Open;case Br.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Vl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Qg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Us.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([av],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Gg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(nt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Us.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,u,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Oa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Us.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:No,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>iv[h-1]||ov,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Hl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uv extends Hl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class La extends Hl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var cv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const wf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xs(()=>Promise.resolve().then(()=>mr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dv=()=>cv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xs(()=>Promise.resolve().then(()=>mr),void 0)).Response:Response}),Ia=t=>{if(Array.isArray(t))return t.map(n=>Ia(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ia(r)}),e},hv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Sn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fv=(t,e,n)=>Sn(void 0,void 0,void 0,function*(){const r=yield dv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new uv(Eo(s),i,o))}).catch(s=>{e(new La(Eo(s),s))}):e(new La(Eo(t),t))}),mv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(hv(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function _s(t,e,n,r,s,i){return Sn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,mv(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>fv(u,l,r))})})}function Ni(t,e,n,r){return Sn(this,void 0,void 0,function*(){return _s(t,"GET",e,n,r)})}function dt(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return _s(t,"POST",e,r,s,n)})}function $a(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return _s(t,"PUT",e,r,s,n)})}function pv(t,e,n,r){return Sn(this,void 0,void 0,function*(){return _s(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _f(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return _s(t,"DELETE",e,r,s,n)})}var gv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class vv{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return gv(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}}var yv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class xv{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new vv(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return yv(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}}var Te=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const wv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _v{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=wf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},jc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?$a:dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:jc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield $a(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ae(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Hl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}update(e,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Te(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Te(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),u=()=>Ni(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new xv(u,this.shouldThrowOnError)}info(e){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ni(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ia(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}exists(e){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r)&&r instanceof La){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield _f(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}list(e,n,r){return Te(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},wv),n),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}listV2(e,n){return Te(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const kv="2.12.2",jv={"X-Client-Info":`storage-js/${kv}`};var Tn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class bv{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},jv),n),this.fetch=wf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Tn(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield _f(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}}class Sv extends bv{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new _v(this.url,this.headers,e,this.fetch)}}const Nv="2.58.0";let Rr="";typeof Deno<"u"?Rr="deno":typeof document<"u"?Rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rr="react-native":Rr="node";const Ev={"X-Client-Info":`supabase-js-${Rr}/${Nv}`},Cv={headers:Ev},Pv={schema:"public"},Tv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ov={};var Rv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Av=t=>{let e;return t?e=t:typeof fetch>"u"?e=of:e=fetch,(...n)=>e(...n)},Lv=()=>typeof Headers>"u"?af:Headers,Iv=(t,e,n)=>{const r=Av(n),s=Lv();return(i,o)=>Rv(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var $v=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};function Dv(t){return t.endsWith("/")?t:t+"/"}function Mv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:u,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>$v(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function Uv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kf="2.72.0",In=30*1e3,Da=3,Co=Da*In,zv="http://localhost:9999",Fv="supabase.auth.token",Bv={"X-Client-Info":`gotrue-js/${kf}`},Ma="X-Supabase-Api-Version",jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vv=10*60*1e3;class ql extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hv extends ql{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qv(t){return D(t)&&t.name==="AuthApiError"}class bf extends ql{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class rn extends ql{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Rt extends rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kv(t){return D(t)&&t.name==="AuthSessionMissingError"}class Nr extends rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends rn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fs extends rn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gv(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class bc extends rn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ua extends rn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Po(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Sc extends rn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class za extends rn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nc=` 	
\r=`.split(""),Jv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Nc.length;e+=1)t[Nc[e].charCodeAt(0)]=-2;for(let e=0;e<Ei.length;e+=1)t[Ei[e].charCodeAt(0)]=e;return t})();function Ec(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ei[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ei[r]),e.queuedBits-=6}}function Sf(t,e,n){const r=Jv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Xv(o,r,n)};for(let o=0;o<t.length;o+=1)Sf(t.charCodeAt(o),s,i);return e.join("")}function Qv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Yv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Qv(r,e)}}function Xv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Zv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Sf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function ey(t){const e=[];return Yv(t,n=>e.push(n)),new Uint8Array(e)}function ty(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ec(s,n,r)),Ec(null,n,r),e.join("")}function ny(t){return Math.round(Date.now()/1e3)+t}function ry(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",sn={tested:!1,writable:!1},Nf=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sn.tested)return sn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),sn.tested=!0,sn.writable=!0}catch{sn.tested=!0,sn.writable=!1}return sn.writable};function sy(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xs(()=>Promise.resolve().then(()=>mr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},iy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$n=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},on=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tt=async(t,e)=>{await t.removeItem(e)};class Qi{constructor(){this.promise=new Qi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Qi.promiseConstructor=Promise;function To(t){const e=t.split(".");if(e.length!==3)throw new za("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Wv.test(e[r]))throw new za("JWT not in base64url format");return{header:JSON.parse(Cc(e[0])),payload:JSON.parse(Cc(e[1])),signature:Zv(e[2]),raw:{header:e[0],payload:e[1]}}}async function oy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ay(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ly(t){return("0"+t.toString(16)).substr(-2)}function uy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ly).join("")}async function cy(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function dy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await cy(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function On(t,e,n=!1){const r=uy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $n(t,`${e}-code-verifier`,s);const i=await dy(r);return[i,r===i?"plain":"s256"]}const hy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fy(t){const e=t.headers.get(Ma);if(!e||!e.match(hy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function my(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function py(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rn(t){if(!gy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Oo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pc(t){return JSON.parse(JSON.stringify(t))}var vy=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yy=[502,503,504];async function Tc(t){var e;if(!iy(t))throw new Ua(un(t),0);if(yy.includes(t.status))throw new Ua(un(t),t.status);let n;try{n=await t.json()}catch(i){throw new bf(un(i),i)}let r;const s=fy(t);if(s&&s.getTime()>=jf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sc(un(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Rt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sc(un(n),t.status,n.weak_password.reasons);throw new Hv(un(n),t.status||500,r)}const xy=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ma]||(i[Ma]=jf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await wy(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function wy(t,e,n,r,s,i){const o=xy(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new Ua(un(u),0)}if(l.ok||await Tc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await Tc(u)}}function ut(t){var e;let n=null;by(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ny(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Oc(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _y(t){return{data:t,error:null}}function ky(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=vy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function jy(t){return t}function by(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ro=["global","local","others"];var Sy=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Ny{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ef(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ro[0]){if(Ro.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Sy(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ky,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jy});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Rn(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Rn(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Rn(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Rn(e.userId);try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Rn(e.userId),Rn(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}function Rc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Ey(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const An={debug:!!(globalThis&&Nf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cy extends Cf{}async function Py(t,e,n){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(An.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Pf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ty(t){return parseInt(t,16)}function Oy(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Ry(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:u,resources:c,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Pf(t.address),y=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let g=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let f=`
Resources:`;for(const p of c){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);f+=`
- ${p}`}g+=f}return`${x}
${g}`}Ey();const Ay={url:zv,storageKey:Fv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ac(t,e,n){return await n()}const Ln={};class ds{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ay),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ny({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ef(s.fetch),this.lock=s.lock||Ac,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:He()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Py:this.lock=Ac,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Nf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Rc(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=sy(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),He()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Gv(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new bf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ut}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await On(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},xform:ut})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ut})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Oc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Oc})}else throw new zs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Nr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,l,u,c,d,h,m;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:w,wallet:x,statement:g,options:f}=e;let p;if(He())if(typeof x=="object")p=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")p=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=x}const _=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href),j=await p.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Pf(j[0]);let S=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!S){const R=await p.request({method:"eth_chainId"});S=Ty(R)}const E={domain:_.host,address:b,statement:g,uri:_.href,version:"1",chainId:S,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=Ry(E),y=await p.request({method:"personal_sign",params:[Oy(v),b]})}try{const{data:w,error:x}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ut});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Nr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(D(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var n,r,s,i,o,l,u,c,d,h,m,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:x,wallet:g,statement:f,options:p}=e;let _;if(He())if(typeof g=="object")_=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const j=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),f?{statement:f}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:x,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ty(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ut});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Nr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(D(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await on(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ut});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ut}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Nr}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await On(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new zs("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await On(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_y})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Rt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new zs("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await on(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Co:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await on(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Oo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(n){if(D(n))return Kv(n)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Rt;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await On(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=To(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!He())throw new Fs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bc("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!o||!c)throw new Fs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;u&&(m=parseInt(u));const v=m-d;v*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=m-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await on(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(qv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=ry(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await On(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return He()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ay(async s=>(s>0&&await oy(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Po(i)&&Date.now()+o-r<In})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),He()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await on(this.storage,this.storageKey);if(s&&this.userStorage){let o=await on(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $n(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Oo()}else if(s&&!s.user&&!s.user){const o=await on(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,s)):s.user=Oo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Co;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Co}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Po(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return Po(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $n(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Pc(s);await $n(this.storage,this.storageKey,i)}else{const s=Pc(n);await $n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${In}ms, refresh threshold is ${Da} ticks`),s<=Da&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await On(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=To(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Vv>s)return r;const{data:i,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=To(r);n!=null&&n.allowExpired||my(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=py(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,ey(`${l}.${u}`)))throw new za("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}ds.nextInstanceID=0;const Ly=ds;class Iy extends Ly{constructor(e){super(e)}}var $y=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class Dy{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=Uv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Pv,realtime:Ov,auth:Object.assign(Object.assign({},Tv),{storageKey:u}),global:Cv},d=Mv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Iv(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Hg(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Sv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new jg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return $y(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:u,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iy({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const My=(t,e,n)=>new Dy(t,e,n);function Uy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Uy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zy="https://nktuttuswytrfishityc.supabase.co",Fy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rdHV0dHVzd3l0cmZpc2hpdHljIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTc1NzQsImV4cCI6MjA3NDM5MzU3NH0.KAXVeoMoK4VXtItaqdaSNzQ4hn8Kt44wZT9GlXlQWrA",W=My(zy,Fy);var By={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...u},c)=>k.createElement("svg",{ref:c,...By,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${Wy(t)}`,...u},[...e.map(([d,h])=>k.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},Vy=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Hy=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Kl=F("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),qy=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Hr=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Tf=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Of=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Er=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Fa=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),hs=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),_n=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ky=F("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Gy=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Jy=F("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Ft=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Qy=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ci=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Yy=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ba=F("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Wa=F("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Rf=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Xy=F("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Zy=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Lc=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ic=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$c=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ex=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),tx=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Gl=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Af=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fs=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nx=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Lf=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rx=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(!1),[o,l]=k.useState(!1),[u,c]=k.useState(""),[d,h]=k.useState(!1),[m,v]=k.useState(""),[y,w]=k.useState(!1),[x,g]=k.useState(""),[f,p]=k.useState(!1),_=at(),j=async E=>{E.preventDefault(),l(!0),c("");try{const{error:R}=await W.auth.signInWithPassword({email:t,password:n});if(R)throw R;localStorage.setItem("isAuthenticated","true"),_("/attendance")}catch(R){c(R.message)}finally{l(!1)}},b=async E=>{E.preventDefault(),w(!0),g("");try{const{error:R}=await W.auth.resetPasswordForEmail(m,{redirectTo:`${window.location.origin}/reset-password`});if(R)throw R;p(!0),g("Password reset email sent! Check your inbox and spam folder."),setTimeout(()=>{h(!1),v(""),g(""),p(!1)},5e3)}catch(R){g(R.message)}finally{w(!1)}},S=()=>{h(!1),v(""),g(""),p(!1)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-indigo-600 flex items-center justify-center shadow-lg",children:a.jsx(Ft,{className:"h-10 w-10 text-white"})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Admin Login"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your attendance management account"})]}),a.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10 border border-gray-100",children:d?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-6",children:[f?a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:a.jsx(Hr,{className:"h-10 w-10 text-green-600"})}):a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-indigo-100 flex items-center justify-center mb-4",children:a.jsx(Lc,{className:"h-10 w-10 text-indigo-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f?"Check Your Email!":"Reset Password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:f?"We sent a reset link to your email":"Enter your email to receive a reset link"})]}),x&&a.jsx("div",{className:`mb-6 rounded-lg p-4 transition-all duration-300 ${f?"bg-green-50 border border-green-200 animate-pulse":"bg-blue-50 border border-blue-200"}`,children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:f?a.jsx(Hr,{className:"h-5 w-5 text-green-500"}):a.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:`text-sm font-medium ${f?"text-green-800":"text-blue-800"}`,children:x}),f&&a.jsx("p",{className:"mt-1 text-sm text-green-700",children:"The link will expire in 1 hour. Didn't receive it? Check your spam folder."})]})]})}),f?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:a.jsx(Hr,{className:"w-6 h-6 text-green-600"})}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["We've sent password reset instructions to:",a.jsx("br",{}),a.jsx("strong",{className:"text-gray-900",children:m})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Next Steps:"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:" Check your email inbox"}),a.jsx("li",{children:" Click the reset link in the email"}),a.jsx("li",{children:" Create your new password"})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:S,className:"flex-1 py-3 px-4 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200",children:"Back to Login"}),a.jsx("button",{type:"button",onClick:b,disabled:y,className:"flex-1 py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200",children:"Resend Email"})]})]}):a.jsxs("form",{className:"space-y-6",onSubmit:b,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ci,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"forgotEmail",name:"forgotEmail",type:"email",required:!0,value:m,onChange:E=>v(E.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg transition duration-200",placeholder:"you@example.com"})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:S,className:"flex-1 py-3 px-4 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200",children:"Back to Login"}),a.jsx("button",{type:"submit",disabled:y,className:"flex-1 py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition duration-200 transform hover:scale-105",children:y?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Lc,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})})]})]})]}):a.jsxs(a.Fragment,{children:[u&&a.jsx("div",{className:"mb-6 rounded-lg bg-red-50 p-4 border border-red-200 animate-shake",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:u})})]})}),a.jsxs("form",{className:"space-y-6",onSubmit:j,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ci,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:E=>e(E.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg transition duration-200",placeholder:"you@example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ft,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:E=>r(E.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg transition duration-200",placeholder:""}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>i(!s),className:"text-gray-400 hover:text-gray-500 focus:outline-none transition duration-200",children:s?a.jsx(hs,{className:"h-5 w-5"}):a.jsx(_n,{className:"h-5 w-5"})})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded transition duration-200"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx("button",{type:"button",onClick:()=>h(!0),className:"font-medium text-indigo-600 hover:text-indigo-500 transition duration-200",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition duration-200 transform hover:scale-105",children:o?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})]})})]})})},sx=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(!1),[o,l]=k.useState(!1),[u,c]=k.useState(!1),[d,h]=k.useState(""),[m,v]=k.useState(!1),[y,w]=k.useState(!1),[x,g]=k.useState(!1),[f,p]=k.useState(""),[_,j]=k.useState(!1),[b,S]=k.useState("");k.useState(!1);const[E,R]=k.useState(!1),I=at();yg(),k.useEffect(()=>{(async()=>{try{const{data:{session:B},error:Se}=await W.auth.getSession();if(Se||!B){console.log("No valid session found, showing OTP option"),g(!0);return}console.log("Valid session found"),w(!0),g(!0)}catch(B){console.error("Error checking session:",B),h("An error occurred while verifying the reset link."),g(!0)}})()},[]);const ie=async C=>{if(C.preventDefault(),t!==n){h("Passwords do not match");return}if(t.length<6){h("Password must be at least 6 characters");return}c(!0),h("");try{const{error:B}=await W.auth.updateUser({password:t});if(B)throw B;v(!0),setTimeout(()=>{I("/login")},2e3)}catch(B){h(B.message)}finally{c(!1)}},xe=async C=>{if(C.preventDefault(),!b){h("Please enter your email address");return}c(!0),h("");try{const{error:B}=await W.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/reset-password`});if(B)throw B;R(!0),j(!0)}catch(B){h(B.message)}finally{c(!1)}},he=async C=>{if(C.preventDefault(),!f){h("Please enter the OTP code");return}c(!0),h("");try{const{data:B,error:Se}=await W.auth.verifyOtp({email:b,token:f,type:"recovery"});if(Se)throw Se;w(!0),j(!1)}catch(B){h(B.message)}finally{c(!1)}},T=async()=>{c(!0),h("");try{const{error:C}=await W.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/reset-password`});if(C)throw C;p(""),h("")}catch(C){h(C.message)}finally{c(!1)}};return x?y?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md mx-auto",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:a.jsxs("div",{className:"px-6 py-8 sm:px-10",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-indigo-100 flex items-center justify-center",children:a.jsx(Ft,{className:"h-10 w-10 text-indigo-600"})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:m?"Password Updated!":"Reset Your Password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:m?"Your password has been successfully updated.":"Enter your new password below"})]}),m?a.jsx("div",{className:"mt-8",children:a.jsx("div",{className:"rounded-md bg-green-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Password updated successfully! Redirecting to login..."})})]})})}):a.jsxs(a.Fragment,{children:[d&&a.jsx("div",{className:"mt-6 rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),a.jsxs("form",{onSubmit:ie,className:"mt-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ft,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:t,onChange:C=>e(C.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg",placeholder:""}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>i(!s),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:s?a.jsx(hs,{className:"h-5 w-5"}):a.jsx(_n,{className:"h-5 w-5"})})})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ft,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:n,onChange:C=>r(C.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg",placeholder:""}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:o?a.jsx(hs,{className:"h-5 w-5"}):a.jsx(_n,{className:"h-5 w-5"})})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating Password..."]}):"Update Password"})})]})]})]})})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md mx-auto",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:a.jsxs("div",{className:"px-6 py-8 sm:px-10",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-indigo-100 flex items-center justify-center",children:a.jsx(Ft,{className:"h-10 w-10 text-indigo-600"})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Reset Your Password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choose how you'd like to reset your password"})]}),d&&a.jsx("div",{className:"mt-6 rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),_?a.jsxs("div",{className:"mt-8",children:[a.jsx("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-green-700",children:["Reset instructions sent to ",a.jsx("strong",{children:b}),". Check your email for the OTP code."]})})]})}),a.jsxs("form",{onSubmit:he,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"6-Digit OTP Code"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Jy,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,value:f,onChange:C=>p(C.target.value.replace(/\D/g,"").slice(0,6)),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg text-center text-lg font-mono tracking-widest",placeholder:"123456",maxLength:6})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter the 6-digit code sent to your email"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:T,disabled:u,className:"flex-1 py-3 px-4 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Resend OTP"}),a.jsx("button",{type:"submit",disabled:u||f.length!==6,className:"flex-1 py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify OTP"})]})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Alternatively, you can click the link in the email to reset your password."})})]}):a.jsxs("div",{className:"mt-8",children:[a.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"Option 1:"})," Enter your email to receive a reset link and OTP code"]})}),a.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ci,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:b,onChange:C=>S(C.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"you@example.com"})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Instructions"})})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-yellow-700",children:[a.jsx("strong",{children:"Note:"})," You'll receive both an email link and a 6-digit OTP code. You can use either method to reset your password."]})})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>I("/login"),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Back to Login"})})]})})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md mx-auto",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})})})})},Jl=["FMS COORDINATION","HRM","Outreach","Media","OPPR","Boundary","Legal","Procurement","Planning","Voter Registration","Electoral security","ICT","M&E","Gender","SG OFFICE","INTERNAL AUDIT","Admin & Finance"],ix=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(""),[u,c]=k.useState(!1),[d,h]=k.useState(""),[m,v]=k.useState(!1),y=at(),w=async x=>{x.preventDefault(),c(!0),h(""),v(!1);const g=`GMDQS${t}`;try{const{data:{user:f}}=await W.auth.getUser(),{data:p,error:_}=await W.from("employees").insert([{employee_id:g,full_name:n,department:s,mobile_number:o,is_active:!0,created_by:f==null?void 0:f.id,updated_by:f==null?void 0:f.id}]);if(_)throw _;v(!0),e(""),r(""),i(""),l(""),setTimeout(()=>{y("/attendance")},1500)}catch(f){h(f.message)}finally{c(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:a.jsxs("div",{className:"px-6 py-8 sm:px-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employee Registration"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Add new employees to the attendance system"})]}),a.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:a.jsx(fs,{className:"h-8 w-8 text-indigo-600"})})]}),m&&a.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Employee registered successfully!"})})]})}),d&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"employeeId",className:"block text-sm font-medium text-gray-700",children:"Employee ID"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"GMDQS "})}),a.jsx("input",{type:"text",name:"employeeId",id:"employeeId",required:!0,value:t,onChange:x=>e(x.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-16 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"1234567"})]})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Af,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",name:"fullName",id:"fullName",required:!0,value:n,onChange:x=>r(x.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"John Doe"})]})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700",children:"Department"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Kl,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("select",{name:"department",id:"department",required:!0,value:s,onChange:x=>i(x.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"",children:"Select Department"}),Jl.map(x=>a.jsx("option",{value:x,children:x},x))]})]})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"mobileNumber",className:"block text-sm font-medium text-gray-700",children:"Mobile Number"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Rf,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",name:"mobileNumber",id:"mobileNumber",required:!0,value:o,onChange:x=>l(x.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"+1 (555) 123-4567"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[a.jsx("button",{type:"button",onClick:()=>y("/attendance"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:u,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register Employee"})]})]})]})})})})},ox=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(""),[u,c]=k.useState(!1),[d,h]=k.useState(!0),[m,v]=k.useState(""),[y,w]=k.useState(!1),x=at(),{id:g}=W0();k.useEffect(()=>{g&&(async()=>{try{const{data:_,error:j}=await W.from("employees").select("*").eq("employee_id",g).single();if(j)throw j;if(_){const b=_.employee_id.startsWith("GMDQS")?_.employee_id.substring(5):_.employee_id;e(b),r(_.full_name),i(_.department),l(_.mobile_number)}}catch(_){v("Failed to load employee data: "+_.message)}finally{h(!1)}})()},[g]);const f=async p=>{p.preventDefault(),c(!0),v(""),w(!1);const _=`GMDQS${t}`;try{const{data:{user:j}}=await W.auth.getUser();if(_!==g){const{error:S}=await W.from("attendance").update({employee_id:_}).eq("employee_id",g);if(S)throw new Error(`Failed to update attendance records: ${S.message}`)}const{error:b}=await W.from("employees").update({employee_id:_,full_name:n,department:s,mobile_number:o,updated_by:j==null?void 0:j.id}).eq("employee_id",g);if(b)throw b;w(!0),setTimeout(()=>{x("/attendance")},1500)}catch(j){v(j.message)}finally{c(!1)}};return d?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:a.jsxs("div",{className:"px-6 py-8 sm:px-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Employee"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Update employee information"})]}),a.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:a.jsx(fs,{className:"h-8 w-8 text-indigo-600"})})]}),y&&a.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Employee updated successfully!"})})]})}),m&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:m})})]})}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"employeeId",className:"block text-sm font-medium text-gray-700",children:"Employee ID"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsxs("span",{className:"text-gray-500 text-sm font-medium",children:["GMDQS"," "]})}),a.jsx("input",{type:"text",name:"employeeId",id:"employeeId",required:!0,value:t,onChange:p=>e(p.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-16 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"1234567"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Changing the ID will update all related attendance records"})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Af,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",name:"fullName",id:"fullName",required:!0,value:n,onChange:p=>r(p.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"John Doe"})]})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700",children:"Department"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Kl,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("select",{name:"department",id:"department",required:!0,value:s,onChange:p=>i(p.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"",children:"Select Department"}),Jl.map(p=>a.jsx("option",{value:p,children:p},p))]})]})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"mobileNumber",className:"block text-sm font-medium text-gray-700",children:"Mobile Number"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Rf,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",name:"mobileNumber",id:"mobileNumber",required:!0,value:o,onChange:p=>l(p.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"+1 (555) 123-4567"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[a.jsx("button",{type:"button",onClick:()=>x("/attendance"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:u,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Employee"})]})]})]})})})})},Ql=({isOpen:t,onClose:e,onConfirm:n,title:r,message:s,confirmText:i="Confirm",cancelText:o="Cancel",type:l="warning",loading:u=!1})=>{if(!t)return null;const c=()=>{switch(l){case"danger":return a.jsx(Vy,{className:"h-6 w-6 text-red-600"});case"success":return a.jsx(Hr,{className:"h-6 w-6 text-green-600"});case"info":return a.jsx(Gy,{className:"h-6 w-6 text-blue-600"});default:return a.jsx(Hy,{className:"h-6 w-6 text-yellow-600"})}},d=()=>{switch(l){case"danger":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";case"info":return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500";default:return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"}};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsxs("div",{className:"sm:flex sm:items-start",children:[a.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 sm:mx-0 sm:h-10 sm:w-10",children:c()}),a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:r}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-gray-500",children:s})})]})]})}),a.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"button",onClick:n,disabled:u,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm ${d()} ${u?"opacity-50 cursor-not-allowed":""}`,children:u?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):i}),a.jsx("button",{type:"button",onClick:e,disabled:u,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:o})]})]})]})})},ax=({currentYear:t,currentMonth:e,searchTerm:n,departmentFilter:r,employees:s,filteredEmployees:i,onYearChange:o,onMonthChange:l,onSearchChange:u,onDepartmentFilterChange:c,onPrevMonth:d,onNextMonth:h,onToday:m,onAddEmployee:v,onExportData:y,getCurrentMonthDays:w,yearOptions:x,monthOptions:g,departments:f,canManageEmployees:p,canExportData:_})=>{const[j,b]=k.useState(!1),[S,E]=k.useState(!1),R=k.useRef(null);k.useEffect(()=>{const T=C=>{R.current&&!R.current.contains(C.target)&&b(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const I=()=>{b(!1),E(!0)},ie=()=>{E(!1),y==null||y()},xe=()=>{b(!1),v()},he=({title:T,value:C,color:B})=>{const Se={green:{text:"text-green-600",border:"hover:border-green-400",title:"text-green-800"},blue:{text:"text-blue-600",border:"hover:border-blue-400",title:"text-blue-800"},orange:{text:"text-orange-600",border:"hover:border-orange-400",title:"text-orange-800"},purple:{text:"text-purple-600",border:"hover:border-purple-400",title:"text-purple-800"}}[B];return a.jsxs("div",{className:`text-center p-4 bg-white rounded-xl border border-gray-200 shadow-md hover:shadow-lg ${Se.border} transition-all duration-300 transform hover:-translate-y-0.5`,children:[a.jsx("div",{className:"text-xs text-gray-500 font-medium mb-1",children:T}),a.jsx("div",{className:`text-3xl font-extrabold ${Se.text}`,children:C})]})};return a.jsxs(a.Fragment,{children:[a.jsx(Ql,{isOpen:S,onClose:()=>E(!1),onConfirm:ie,title:"Export Attendance Data",message:"This will download a CSV file containing all attendance data for the current month. Do you want to proceed?",confirmText:"Export CSV",cancelText:"Cancel",type:"info"}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 p-5 sm:p-8 mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 sm:space-y-6 lg:space-y-0",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Zy,{className:"h-4 w-4 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),a.jsx("input",{type:"text",placeholder:"Search employees...",value:n,onChange:T=>u(T.target.value),className:"pl-10 pr-4 py-2 sm:py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 w-full sm:w-64 md:w-80 bg-white text-sm sm:text-base shadow-sm"}),n&&a.jsx("button",{onClick:()=>u(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-100 rounded-full p-1 transition-colors",children:a.jsx("svg",{className:"h-3 w-3 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Kl,{className:"h-4 w-4 text-gray-400"})}),a.jsxs("select",{value:r,onChange:T=>c(T.target.value),className:"pl-10 pr-8 py-2 sm:py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 w-full sm:w-48 bg-white text-sm sm:text-base shadow-sm appearance-none",children:[a.jsx("option",{value:"",children:"All Departments"}),f==null?void 0:f.map(T=>a.jsx("option",{value:T,children:T},T))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:a.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 rounded-xl p-1",children:[a.jsx("button",{onClick:d,className:"p-1.5 sm:p-2 rounded-lg text-gray-600 hover:bg-white hover:text-indigo-600 hover:shadow-md transition-all duration-200 transform hover:scale-105",title:"Previous month",children:a.jsx(Tf,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:e,onChange:T=>l(Number(T.target.value)),className:"appearance-none border-0 py-1.5 sm:py-2.5 pl-2 sm:pl-3 pr-6 sm:pr-8 rounded-lg text-xs sm:text-sm font-medium text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",children:g.map((T,C)=>a.jsx("option",{value:C,children:T.substring(0,3)},T))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-1 sm:px-2 text-gray-400",children:a.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.jsx("span",{className:"text-gray-400 font-bold text-xs sm:text-sm",children:"/"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:t,onChange:T=>o(Number(T.target.value)),className:"appearance-none border-0 py-1.5 sm:py-2.5 pl-2 sm:pl-3 pr-6 sm:pr-8 rounded-lg text-xs sm:text-sm font-medium text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",children:x.map(T=>a.jsx("option",{value:T,children:T},T))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-1 sm:px-2 text-gray-400",children:a.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),a.jsx("button",{onClick:h,className:"p-1.5 sm:p-2 rounded-lg text-gray-600 hover:bg-white hover:text-indigo-600 hover:shadow-md transition-all duration-200 transform hover:scale-105",title:"Next month",children:a.jsx(Of,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:m,className:"px-3 py-2 sm:px-4 sm:py-2.5 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 flex items-center shadow-sm hover:shadow-md",title:"Jump to current date",children:[a.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"hidden xs:inline",children:"Today"})]}),a.jsxs("div",{className:"relative",ref:R,children:[a.jsxs("button",{onClick:()=>b(!j),className:"px-3 py-2 sm:px-4 sm:py-2.5 text-xs sm:text-sm font-medium text-white bg-indigo-600 rounded-xl hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-xl flex items-center focus:ring-4 focus:ring-indigo-300",title:"More actions",children:[a.jsx(Ba,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden xs:inline",children:"Actions"}),a.jsx("svg",{className:`h-3 w-3 sm:h-4 sm:w-4 ml-1 transition-transform duration-200 ${j?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-2xl border border-gray-100 py-1 z-10 origin-top-right animate-in fade-in-0 zoom-in-95",children:[p&&v&&a.jsxs("button",{onClick:xe,className:"w-full px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors duration-150 flex items-center",children:[a.jsx(Gl,{className:"h-4 w-4 mr-3 text-indigo-500"}),"Add Employee"]}),_&&y&&a.jsxs("button",{onClick:I,className:"w-full px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors duration-150 flex items-center",children:[a.jsx(Fa,{className:"h-4 w-4 mr-3 text-indigo-500"}),"Export Data (CSV)"]}),(!p||!_)&&a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No actions available"})]})]})]})]})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(he,{title:"Total Employees",value:s.length,color:"green"}),a.jsx(he,{title:"Filtered Results",value:i.length,color:"blue"}),a.jsx(he,{title:"Working Days",value:w(),color:"orange"}),a.jsx(he,{title:"Current Day",value:new Date().getDate(),color:"purple"})]})})]})]})},lx=["Present","Absent","On Leave","Sick","An Excuse","Holiday"],ux=({employeeId:t,date:e,status:n,onSave:r,saving:s})=>{const[i,o]=k.useState(!1),l=k.useRef(null),u=lx.map(h=>{let m,v,y,w,x;switch(h){case"Present":m=Hr,v="green",y="bg-green-50",w="border-green-200",x="text-green-700";break;case"Absent":m=nx,v="red",y="bg-red-50",w="border-red-200",x="text-red-700";break;case"On duty":m=Er,v="blue",y="bg-blue-50",w="border-blue-200",x="text-blue-700";break;case"Sick":m=Er,v="orange",y="bg-orange-50",w="border-orange-200",x="text-orange-700";break;case"An Excuse":m=Er,v="purple",y="bg-purple-50",w="border-purple-200",x="text-purple-700";break;case"Holiday":m=Er,v="yellow",y="bg-yellow-50",w="border-yellow-200",x="text-yellow-700";break;default:m=Er,v="gray",y="bg-gray-50",w="border-gray-200",x="text-gray-700"}return{value:h.toLowerCase().replace(" ","_"),label:h,icon:m,color:v,bgColor:y,borderColor:w,textColor:x}}),c=u.find(h=>h.value===n);k.useEffect(()=>{const h=m=>{l.current&&!l.current.contains(m.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const d=h=>{r(t,e,h),o(!1)};if(c){const h=c.icon;return a.jsxs("div",{className:"relative",ref:l,children:[a.jsxs("button",{onClick:()=>o(!i),className:`flex items-center justify-between w-28 h-9 rounded-lg border font-medium text-sm transition-all duration-200 hover:shadow-md ${c.bgColor+" "+c.borderColor+" "+c.textColor} ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:[a.jsxs("div",{className:"flex items-center px-2",children:[a.jsx(h,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"truncate",children:c.label})]}),a.jsx(Ba,{className:"h-3 w-3 mr-1 opacity-60"})]}),i&&a.jsx("div",{className:"absolute z-50 mt-1 w-40 rounded-lg shadow-xl bg-white border border-gray-200 transform origin-top-right",children:a.jsxs("div",{className:"py-1",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Change Status"}),u.map(m=>{const v=m.icon;return m.value===n?null:a.jsxs("button",{onClick:()=>d(m.value),className:`flex items-center w-full px-3 py-2 text-sm transition-colors duration-150 ${m.textColor+" hover:"+m.bgColor}`,children:[a.jsx(v,{className:"h-4 w-4 mr-3"}),a.jsx("span",{children:m.label})]},m.value)})]})})]})}return a.jsxs("div",{className:"relative",ref:l,children:[a.jsxs("button",{onClick:()=>o(!i),className:"flex items-center justify-center w-28 h-9 rounded-lg border-2 border-dashed border-gray-300 text-gray-500 hover:border-indigo-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-200 font-medium text-sm",disabled:s,children:[a.jsx("span",{children:"Select"}),a.jsx(Ba,{className:"h-3 w-3 ml-1 opacity-60"})]}),i&&a.jsx("div",{className:"absolute z-50 mt-1 w-40 rounded-lg shadow-xl bg-white border border-gray-200 transform origin-top-right",children:a.jsxs("div",{className:"py-1",children:[a.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Select Status"}),u.map(h=>{const m=h.icon;return a.jsxs("button",{onClick:()=>d(h.value),className:`flex items-center w-full px-3 py-2 text-sm transition-colors duration-150 ${h.textColor+" hover:"+h.bgColor}`,children:[a.jsx(m,{className:"h-4 w-4 mr-3"}),a.jsx("span",{children:h.label})]},h.value)})]})})]})},cx=({employees:t,attendanceData:e,currentYear:n,currentMonth:r,saving:s,onStatusChange:i,currentPage:o,itemsPerPage:l,canWriteAttendance:u,canManageEmployees:c})=>{const d=at(),h=(g,f)=>new Date(g,f+1,0).getDate(),m=(g,f,p)=>{const _=String(f+1).padStart(2,"0"),j=String(p).padStart(2,"0");return`${g}-${_}-${j}`},v=(g,f)=>{var p;return((p=e[g])==null?void 0:p[f])||""},y=(o-1)*l,w=t.slice(y,y+l),x=h(n,r);return t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:a.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No employees"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding employees to see attendance records."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky left-0 bg-gray-50 z-10",children:"Employee"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),Array.from({length:x},(g,f)=>a.jsx("th",{scope:"col",className:"px-2 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px] md:min-w-[100px]",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-xs font-semibold",children:f+1}),a.jsx("span",{className:"text-xs text-gray-400 mt-1 hidden md:inline",children:new Date(n,r,f+1).toLocaleDateString("en-US",{weekday:"short"})})]})},f))]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(g=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap sticky left-0 bg-white z-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-800 font-medium",children:g.full_name.charAt(0)})}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.full_name}),a.jsx("div",{className:"text-sm text-gray-500",children:g.position})]}),c&&a.jsx("button",{onClick:()=>d(`/edit-employee/${g.employee_id}`),className:"ml-2 p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Edit employee",children:a.jsx(Wa,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.employee_id}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.department}),Array.from({length:x},(f,p)=>{const _=m(n,r,p+1),j=v(g.employee_id,_),b=[0,6].includes(new Date(n,r,p+1).getDay());return a.jsx("td",{className:`px-1 py-2 whitespace-nowrap text-center ${b?"bg-gray-50":""}`,children:a.jsx("div",{className:"flex justify-center",children:u?a.jsx(ux,{employeeId:g.employee_id,date:_,status:j,onSave:i,saving:s}):a.jsx("div",{className:"flex items-center justify-center w-28 h-9 rounded-lg border border-gray-200 bg-gray-50 text-sm text-gray-600",children:j?a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j==="present"?"bg-green-100 text-green-800":j==="absent"?"bg-red-100 text-red-800":j==="on_leave"?"bg-yellow-100 text-yellow-800":j==="sick"?"bg-orange-100 text-orange-800":j==="an_excuse"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:j.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())}):a.jsx("span",{className:"text-gray-400",children:"No data"})})})},p)})]},g.employee_id))})]})})},dx=({currentPage:t,totalItems:e,itemsPerPage:n,onPageChange:r})=>{const s=Math.ceil(e/n);if(s<=1)return null;const i=()=>{const o=[];let u=Math.max(1,t-Math.floor(2.5)),c=Math.min(s,u+5-1);c-u+1<5&&(u=Math.max(1,c-5+1));for(let d=u;d<=c;d++)o.push(d);return o};return a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",(t-1)*n+1," to ",Math.min(t*n,e)," of ",e," employees"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>r(t-1),disabled:t===1,className:"p-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(Tf,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex space-x-1",children:i().map(o=>a.jsx("button",{onClick:()=>r(o),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${t===o?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:o},o))}),a.jsx("button",{onClick:()=>r(t+1),disabled:t===s,className:"p-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(Of,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Items per page:"}),a.jsxs("select",{value:n,onChange:o=>r(1,parseInt(o.target.value)),className:"border border-gray-300 rounded-lg px-2 py-1 text-sm",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"})]})]})]})},If=k.createContext(),$f=()=>{const t=k.useContext(If);if(!t)throw new Error("usePermissions must be used within a PermissionsProvider");return t},hx=({children:t})=>{const[e,n]=k.useState({canViewAttendance:!1,canWriteAttendance:!1,canExportData:!1,canManageEmployees:!1,canManageAdmins:!1,isSuperAdmin:!1,loading:!0});k.useEffect(()=>{(async()=>{try{const{data:{user:o}}=await W.auth.getUser();if(!o){n(c=>({...c,loading:!1}));return}const{data:l,error:u}=await W.from("admin_permissions").select("*").eq("user_id",o.id).single();if(u&&u.code!=="PGRST116"){console.error("Error loading permissions:",u),n(c=>({...c,loading:!1}));return}n(l?{canViewAttendance:l.can_view_attendance,canWriteAttendance:l.can_write_attendance,canExportData:l.can_export_data,canManageEmployees:l.can_manage_employees,canManageAdmins:l.can_manage_admins,isSuperAdmin:l.is_super_admin,loading:!1}:c=>({...c,loading:!1}))}catch(o){console.error("Error loading permissions:",o),n(l=>({...l,loading:!1}))}})()},[]);const s={...e,updatePermissions:async(i,o)=>{try{const{data:{user:l}}=await W.auth.getUser(),{error:u}=await W.from("admin_permissions").upsert({user_id:i,can_view_attendance:o.canViewAttendance,can_write_attendance:o.canWriteAttendance,can_export_data:o.canExportData,can_manage_employees:o.canManageEmployees,can_manage_admins:o.canManageAdmins,is_super_admin:o.isSuperAdmin,updated_by:l==null?void 0:l.id},{onConflict:"user_id"});if(u)throw u;const{data:{user:c}}=await W.auth.getUser();return c&&i===c.id&&n({canViewAttendance:o.canViewAttendance,canWriteAttendance:o.canWriteAttendance,canExportData:o.canExportData,canManageEmployees:o.canManageEmployees,canManageAdmins:o.canManageAdmins,isSuperAdmin:o.isSuperAdmin,loading:!1}),{success:!0}}catch(l){return console.error("Error updating permissions:",l),{success:!1,error:l.message}}}};return a.jsx(If.Provider,{value:s,children:t})},fx=()=>{const[t,e]=k.useState([]),[n,r]=k.useState({}),[s,i]=k.useState(new Date().getFullYear()),[o,l]=k.useState(new Date().getMonth()),[u,c]=k.useState(!0),[d,h]=k.useState(!1),[m,v]=k.useState(""),[y,w]=k.useState(""),[x,g]=k.useState(""),[f,p]=k.useState(1),[_,j]=k.useState(10),b=at(),{canViewAttendance:S,canWriteAttendance:E,canExportData:R,canManageEmployees:I,loading:ie}=$f(),xe=($,H)=>new Date($,H+1,0).getDate(),he=($,H,we)=>{const pe=String(H+1).padStart(2,"0"),De=String(we).padStart(2,"0");return`${$}-${pe}-${De}`},T=()=>xe(s,o),C=$=>["January","February","March","April","May","June","July","August","September","October","November","December"][$],B=()=>{const $=new Date().getFullYear(),H=[];for(let we=$-2;we<=$+2;we++)H.push(we);return H},Se=["January","February","March","April","May","June","July","August","September","October","November","December"],P=t.filter($=>{var pe,De,ne,Me;const H=((pe=$.full_name)==null?void 0:pe.toLowerCase().includes(y.toLowerCase()))||((De=$.employee_id)==null?void 0:De.toLowerCase().includes(y.toLowerCase()))||((ne=$.department)==null?void 0:ne.toLowerCase().includes(y.toLowerCase()))||((Me=$.mobile_number)==null?void 0:Me.toLowerCase().includes(y.toLowerCase())),we=x===""||$.department===x;return H&&we});k.useEffect(()=>{if(!ie){if(!S){v("You do not have permission to view attendance data."),c(!1);return}(async()=>{c(!0),v("");try{const{data:H,error:we}=await W.from("employees").select("*").eq("is_active",!0).order("full_name");if(we)throw we;e(H||[]);const pe=he(s,o,1),De=he(s,o,xe(s,o)),{data:ne,error:Me}=await W.from("attendance").select("*").gte("date",pe).lte("date",De);if(Me)throw Me;const gt={};ne==null||ne.forEach(En=>{gt[En.employee_id]||(gt[En.employee_id]={}),gt[En.employee_id][En.date]=En.status}),r(gt)}catch(H){v(H.message)}finally{c(!1)}})()}},[s,o,S,ie]);const L=async($,H,we)=>{h(!0),v("");try{const{data:{user:pe}}=await W.auth.getUser();r(ne=>({...ne,[$]:{...ne[$],[H]:we}}));const{error:De}=await W.from("attendance").upsert({employee_id:$,date:H,status:we,created_by:pe==null?void 0:pe.id,updated_by:pe==null?void 0:pe.id},{onConflict:["employee_id","date"]});if(De)throw De}catch(pe){v(pe.message),r(De=>{const ne={...De};return ne[$]&&ne[$][H]&&delete ne[$][H],ne})}finally{h(!1)}},A=()=>{try{const $=["Employee ID","Full Name","Department",...Array.from({length:xe(s,o)},(Me,gt)=>gt+1)],H=P.map(Me=>[Me.employee_id,Me.full_name,Me.department,...Array.from({length:xe(s,o)},(En,Df)=>{var Yl;const Mf=he(s,o,Df+1);return((Yl=n[Me.employee_id])==null?void 0:Yl[Mf])||""})]);let we=$.join(",")+`
`;H.forEach(Me=>{we+=Me.map(gt=>`"${gt}"`).join(",")+`
`});const pe=new Blob([we],{type:"text/csv;charset=utf-8;"}),De=URL.createObjectURL(pe),ne=document.createElement("a");ne.setAttribute("href",De),ne.setAttribute("download",`attendance_${C(o)}_${s}.csv`),ne.style.visibility="hidden",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne)}catch($){v("Failed to export data: "+$.message)}},Y=()=>{o===0?(i($=>$-1),l(11)):l($=>$-1),p(1)},oe=()=>{o===11?(i($=>$+1),l(0)):l($=>$+1),p(1)},Nn=()=>{i(new Date().getFullYear()),l(new Date().getMonth()),p(1)},pt=()=>b("/employee-registration"),gr=($,H=_)=>{p($),H!==_&&j(H)};return k.useEffect(()=>{p(1)},[y,x]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:a.jsx("div",{className:"flex",children:a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:m})})})}),a.jsx(ax,{currentYear:s,currentMonth:o,searchTerm:y,departmentFilter:x,employees:t,filteredEmployees:P,onYearChange:i,onMonthChange:l,onSearchChange:w,onDepartmentFilterChange:g,onPrevMonth:Y,onNextMonth:oe,onToday:Nn,onAddEmployee:I?pt:null,onExportData:R?A:null,getMonthName:C,getCurrentMonthDays:T,yearOptions:B(),monthOptions:Se,departments:Jl,canManageEmployees:I,canExportData:R}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:u?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsx(cx,{employees:P,attendanceData:n,currentYear:s,currentMonth:o,saving:d,onStatusChange:L,currentPage:f,itemsPerPage:_,canWriteAttendance:E,canManageEmployees:I}),a.jsx(dx,{currentPage:f,totalItems:P.length,itemsPerPage:_,onPageChange:gr})]})})]})})},mx=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(!1),[u,c]=k.useState(!1),[d,h]=k.useState(!1),[m,v]=k.useState(""),[y,w]=k.useState(!1),x=at(),g=async f=>{if(f.preventDefault(),n!==s){v("Passwords do not match");return}h(!0),v(""),w(!1);try{const{data:p,error:_}=await W.auth.signUp({email:t,password:n});if(_)throw _;if(p.user){const{error:j}=await W.from("admin_permissions").insert({user_id:p.user.id,can_view_attendance:!0,can_write_attendance:!1,can_export_data:!1,can_manage_employees:!1,can_manage_admins:!1,is_super_admin:!1});j&&console.error("Error assigning permissions:",j)}w(!0),setTimeout(()=>{x("/attendance")},1500)}catch(p){v(p.message)}finally{h(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:a.jsxs("div",{className:"px-6 py-8 sm:px-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Register New Admin"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Create a new administrator account"})]}),a.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:a.jsx(Gl,{className:"h-8 w-8 text-indigo-600"})})]}),y?a.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Admin account created successfully! Please check your email to confirm your account."})})]})}):null,m&&a.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:m})})]})}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ci,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:f=>e(f.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg",placeholder:"you@example.com"})]})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ft,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:n,onChange:f=>r(f.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg",placeholder:""}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:o?a.jsx(hs,{className:"h-5 w-5"}):a.jsx(_n,{className:"h-5 w-5"})})})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Password must be at least 6 characters"})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ft,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",required:!0,value:s,onChange:f=>i(f.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg",placeholder:""}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>c(!u),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:u?a.jsx(hs,{className:"h-5 w-5"}):a.jsx(_n,{className:"h-5 w-5"})})})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[a.jsx("button",{type:"button",onClick:()=>x("/attendance"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:d?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Admin Account"})]})]})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>x("/attendance"),className:"text-indigo-600 hover:text-indigo-500 font-medium",children:" Back to Dashboard"})})]})})},px=()=>{const[t,e]=k.useState([]),[n,r]=k.useState({}),[s,i]=k.useState(!0),[o,l]=k.useState(""),[u,c]=k.useState(!1),[d,h]=k.useState(!1),[m,v]=k.useState(!1),[y,w]=k.useState(null),[x,g]=k.useState({canViewAttendance:!1,canWriteAttendance:!1,canExportData:!1,canManageEmployees:!1,canManageAdmins:!1,isSuperAdmin:!1}),[f,p]=k.useState(!1),[_,j]=k.useState(!1);at();const{isSuperAdmin:b,canManageAdmins:S,updatePermissions:E,loading:R}=$f();k.useEffect(()=>{b?(async()=>{i(!0),l("");try{const{data:C,error:B}=await W.rpc("get_admin_users");if(B)throw B;const Se=(C==null?void 0:C.map(L=>({id:L.user_id,email:L.email,created_at:L.user_created_at,email_confirmed_at:null,last_sign_in_at:L.last_sign_in_at})))||[],P=(C==null?void 0:C.reduce((L,A)=>(L[A.user_id]={id:A.user_id,user_id:A.user_id,can_view_attendance:A.can_view_attendance,can_write_attendance:A.can_write_attendance,can_export_data:A.can_export_data,can_manage_employees:A.can_manage_employees,can_manage_admins:A.can_manage_admins,is_super_admin:A.is_super_admin,created_at:A.permission_created_at,updated_at:A.permission_created_at},L),{}))||{};e(Se),r(P)}catch(C){l("Failed to load admin users: "+C.message)}finally{i(!1)}})():i(!1)},[b]);const I=T=>{w(T),v(!0)},ie=async()=>{if(y){p(!0);try{const{error:T}=await W.from("admin_permissions").delete().eq("user_id",y.id);if(T)throw T;e(C=>C.filter(B=>B.id!==y.id)),r(C=>{const B={...C};return delete B[y.id],B}),v(!1),w(null)}catch(T){l("Failed to remove admin permissions: "+T.message)}finally{p(!1)}}},xe=T=>{const C=n[T.id]||{can_view_attendance:!1,can_write_attendance:!1,can_export_data:!1,can_manage_employees:!1,can_manage_admins:!1,is_super_admin:!1};w(T),g({canViewAttendance:C.can_view_attendance,canWriteAttendance:C.can_write_attendance,canExportData:C.can_export_data,canManageEmployees:C.can_manage_employees,canManageAdmins:C.can_manage_admins,isSuperAdmin:C.is_super_admin}),h(!0)},he=async()=>{if(!y)return;j(!0);const T=await E(y.id,x);T.success?(r(C=>({...C,[y.id]:{user_id:y.id,can_view_attendance:x.canViewAttendance,can_write_attendance:x.canWriteAttendance,can_export_data:x.canExportData,can_manage_employees:x.canManageEmployees,can_manage_admins:x.canManageAdmins,is_super_admin:x.isSuperAdmin}})),h(!1),w(null)):l("Failed to update permissions: "+T.error),j(!1)};return!R&&!b&&!S?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[a.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You do not have permission to manage admin users."})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-6 sm:px-8 sm:py-8 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg",children:a.jsx(fs,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Users"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage administrator accounts for the system"})]})]}),a.jsx("div",{className:"mt-4 sm:mt-0",children:a.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx(Xy,{className:"h-4 w-4 mr-2"}),"Register New Admin"]})})]})}),o&&a.jsx("div",{className:"rounded-md bg-red-50 p-4 m-6",children:a.jsx("div",{className:"flex",children:a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})})}),u&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>c(!1)})}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[a.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:a.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:a.jsx(Lf,{className:"h-6 w-6"})})}),a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsx(mx,{})})]})]})}),a.jsx(Ql,{isOpen:m,onClose:()=>v(!1),onConfirm:ie,title:"Remove Admin Permissions",message:`Are you sure you want to remove admin permissions from ${y==null?void 0:y.email}? This will revoke their access to the admin panel but won't delete their user account.`,confirmText:"Remove Permissions",cancelText:"Cancel",type:"danger",loading:f}),d&&y&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>h(!1)})}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"sm:flex sm:items-start",children:[a.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10",children:a.jsx(Ic,{className:"h-6 w-6 text-indigo-600"})}),a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Permissions"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Manage permissions for ",y.email]})]})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"super-admin",type:"checkbox",checked:x.isSuperAdmin,onChange:T=>g(C=>({...C,isSuperAdmin:T.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:"super-admin",className:"ml-3 flex items-center text-sm font-medium text-gray-700",children:[a.jsx($c,{className:"h-4 w-4 mr-2 text-purple-500"}),"Super Admin (Full Access)"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"view-attendance",type:"checkbox",checked:x.canViewAttendance,onChange:T=>g(C=>({...C,canViewAttendance:T.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:x.isSuperAdmin}),a.jsxs("label",{htmlFor:"view-attendance",className:"ml-3 flex items-center text-sm text-gray-700",children:[a.jsx(_n,{className:"h-4 w-4 mr-2 text-blue-500"}),"View Employee Attendance"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"write-attendance",type:"checkbox",checked:x.canWriteAttendance,onChange:T=>g(C=>({...C,canWriteAttendance:T.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:x.isSuperAdmin}),a.jsxs("label",{htmlFor:"write-attendance",className:"ml-3 flex items-center text-sm text-gray-700",children:[a.jsx(Wa,{className:"h-4 w-4 mr-2 text-green-500"}),"Write Attendance Records"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"export-data",type:"checkbox",checked:x.canExportData,onChange:T=>g(C=>({...C,canExportData:T.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:x.isSuperAdmin}),a.jsxs("label",{htmlFor:"export-data",className:"ml-3 flex items-center text-sm text-gray-700",children:[a.jsx(Fa,{className:"h-4 w-4 mr-2 text-orange-500"}),"Export Data"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"manage-employees",type:"checkbox",checked:x.canManageEmployees,onChange:T=>g(C=>({...C,canManageEmployees:T.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:x.isSuperAdmin}),a.jsxs("label",{htmlFor:"manage-employees",className:"ml-3 flex items-center text-sm text-gray-700",children:[a.jsx(tx,{className:"h-4 w-4 mr-2 text-indigo-500"}),"Manage Employees"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"manage-admins",type:"checkbox",checked:x.canManageAdmins,onChange:T=>g(C=>({...C,canManageAdmins:T.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:x.isSuperAdmin}),a.jsxs("label",{htmlFor:"manage-admins",className:"ml-3 flex items-center text-sm text-gray-700",children:[a.jsx(fs,{className:"h-4 w-4 mr-2 text-red-500"}),"Manage Admin Users"]})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"button",onClick:he,disabled:_,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 sm:ml-3 sm:w-auto sm:text-sm",children:_?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Permissions"}),a.jsx("button",{type:"button",onClick:()=>h(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}),a.jsx("div",{className:"px-6 py-6 sm:px-8",children:s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Sign In"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permissions"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No admin users found"})}):t.map(T=>{const C=n[T.id];return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-800 font-medium",children:T.email.charAt(0).toUpperCase()})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.email})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.last_sign_in_at?new Date(T.last_sign_in_at).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(C==null?void 0:C.is_super_admin)&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[a.jsx($c,{className:"h-3 w-3 mr-1"}),"Super Admin"]}),(C==null?void 0:C.can_view_attendance)&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(_n,{className:"h-3 w-3 mr-1"}),"View"]}),(C==null?void 0:C.can_write_attendance)&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Write"]}),(C==null?void 0:C.can_export_data)&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[a.jsx(Fa,{className:"h-3 w-3 mr-1"}),"Export"]}),!C&&a.jsx("span",{className:"text-xs text-gray-500",children:"No permissions set"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[b&&a.jsxs("button",{onClick:()=>xe(T),className:"text-indigo-600 hover:text-indigo-900",children:[a.jsx(Ic,{className:"h-4 w-4 inline mr-1"}),"Permissions"]}),a.jsxs("button",{onClick:()=>I(T),className:"text-red-600 hover:text-red-900 flex items-center",children:[a.jsx(ex,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]},T.id)})})]})})})]})})})},gx=({isOpen:t,toggleSidebar:e,onLogout:n})=>{const r=bn(),[s,i]=k.useState(!1),o=[{name:"Dashboard",path:"/attendance",icon:Ky},{name:"Employees",path:"/employee-registration",icon:fs},{name:"Admin Users",path:"/admin-users",icon:Gl}];return a.jsxs(a.Fragment,{children:[a.jsx(Ql,{isOpen:s,onClose:()=>i(!1),onConfirm:()=>{i(!1),n()},title:"Confirm Logout",message:"Are you sure you want to log out of the attendance system?",confirmText:"Logout",cancelText:"Cancel",type:"warning"}),t&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:e}),a.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${t?"translate-x-0":"-translate-x-full"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qy,{className:"h-8 w-8 text-indigo-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Attendance"})]}),a.jsx("button",{onClick:e,className:"lg:hidden text-gray-500 hover:text-gray-700",children:a.jsx(Lf,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"flex-1 px-2 py-4",children:a.jsx("ul",{className:"space-y-1",children:o.map(l=>{const u=l.icon,c=r.pathname===l.path;return l.path,a.jsx("li",{children:a.jsxs(gg,{to:l.path,className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${c?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100"}`,onClick:e,children:[a.jsx(u,{className:"h-5 w-5 mr-3"}),l.name]})},l.path)})})}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center w-full px-4 py-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100",children:[a.jsx(Qy,{className:"h-5 w-5 mr-3"}),"Logout"]})})]})}),!t&&a.jsx("button",{onClick:e,className:"fixed top-4 left-4 z-30 p-2 rounded-md bg-white shadow-md lg:hidden",children:a.jsx(Yy,{className:"h-6 w-6 text-gray-600"})})]})};function vx(){const[t,e]=k.useState(!1),[n,r]=k.useState(null),[s,i]=k.useState(!1);k.useEffect(()=>{(async()=>{const{data:{user:h}}=await W.auth.getUser();h?(e(!0),r(h),localStorage.setItem("isAuthenticated","true")):localStorage.getItem("isAuthenticated")==="true"&&e(!0)})();const{data:{subscription:d}}=W.auth.onAuthStateChange((h,m)=>{m?(e(!0),r(m.user),localStorage.setItem("isAuthenticated","true")):(e(!1),r(null),localStorage.removeItem("isAuthenticated"))});return()=>d.unsubscribe()},[]);const o=async()=>{await W.auth.signOut(),e(!1),r(null),localStorage.removeItem("isAuthenticated"),i(!1)},l=()=>{i(!s)},u=({children:c})=>a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(gx,{isOpen:s,toggleSidebar:l,onLogout:o}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex-1 overflow-y-auto",children:c})})]});return a.jsx(hx,{children:a.jsx(fg,{children:a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs(ig,{children:[a.jsx(Ot,{path:"/login",element:t?a.jsx(Pn,{to:"/attendance"}):a.jsx(rx,{})}),a.jsx(Ot,{path:"/reset-password",element:a.jsx(sx,{})}),a.jsx(Ot,{path:"/admin-users",element:t?a.jsx(u,{children:a.jsx(px,{})}):a.jsx(Pn,{to:"/login"})}),a.jsx(Ot,{path:"/employee-registration",element:t?a.jsx(u,{children:a.jsx(ix,{})}):a.jsx(Pn,{to:"/login"})}),a.jsx(Ot,{path:"/edit-employee/:id",element:t?a.jsx(u,{children:a.jsx(ox,{})}):a.jsx(Pn,{to:"/login"})}),a.jsx(Ot,{path:"/attendance",element:t?a.jsx(u,{children:a.jsx(fx,{})}):a.jsx(Pn,{to:"/login"})}),a.jsx(Ot,{path:"/",element:a.jsx(Pn,{to:t?"/attendance":"/login"})})]})})})})}Ao.createRoot(document.getElementById("root")).render(a.jsx(Kc.StrictMode,{children:a.jsx(vx,{})}));
